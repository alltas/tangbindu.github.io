function random(t,n){return Math.floor(Math.random()*n-t+1,t)}function animation(){requestAnimationFrame(animation),ctx.clearRect(0,0,myCanvas.width,myCanvas.height),SNOWFLAKES.length<=SNOW_AMOUNT&&SNOWFLAKES.push(new SNOWFLAKE);for(var t=1;t<=SNOWFLAKES.length-1;t++)SNOWFLAKES[t].check(),ctx.beginPath(),ctx.arc(SNOWFLAKES[t].x,SNOWFLAKES[t].y,SNOWFLAKES[t].radius,0,2*Math.PI),SNOWFLAKES[t].update(),ctx.fill()}window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),window.countFPS=function(){var t=(new Date).getMilliseconds(),n=1,i=0;return function(){var e=(new Date).getMilliseconds();return t>e?(i=n,n=1):n+=1,t=e,i}}();var SNOW_AMOUNT=100,SNOWFLAKES=[],MAX_RADIUS=15,myCanvas=document.createElement("canvas");myCanvas.id="snow",myCanvas.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,myCanvas.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,myCanvas.style.cssText="top:0;display:block;position:fixed;z-index:999;",page_game.appendChild(myCanvas);var ctx=myCanvas.getContext("2d"),SNOWFLAKE=function(){this.x=random(1,myCanvas.width),this.y=2,this.radius=random(1,MAX_RADIUS)/10,this.speed=random(1,22),this.update=function(){this.y+=this.radius+random(0,1),this.x+=this.speed/10*random(-1,1)},this.check=function(){this.y=this.y>=myCanvas.height?1:this.y,this.x=this.x>=myCanvas.width?1:this.x,(this.y>=myCanvas.height||this.x>=myCanvas.width)&&(this.radius=random(1,MAX_RADIUS)/5,console.log("x"))}};ctx.fillStyle="rgba(255,255,255,1)";