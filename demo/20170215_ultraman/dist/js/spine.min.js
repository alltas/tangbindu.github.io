var spine;!function(t){var e=function(){function t(t){this._assets={},this._errors={},this._toLoad=0,this._loaded=0,this._textureLoader=t}return t.prototype.loadText=function(t,e,n){var r=this;void 0===e&&(e=null),void 0===n&&(n=null),this._toLoad++;var i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState==XMLHttpRequest.DONE&&(i.status>=200&&i.status<300?(e&&e(t,i.responseText),r._assets[t]=i.responseText):(n&&n(t,"Couldn't load text "+t+": status "+i.status+", "+i.responseText),r._errors[t]="Couldn't load text "+t+": status "+i.status+", "+i.responseText),r._toLoad--,r._loaded++)},i.open("GET",t,!0),i.send()},t.prototype.loadTexture=function(t,e,n){var r=this;void 0===e&&(e=null),void 0===n&&(n=null),this._toLoad++;var i=new Image;i.src=t,i.onload=function(){e&&e(t,i);var n=r._textureLoader(i);r._assets[t]=n,r._toLoad--,r._loaded++},i.onerror=function(){n&&n(t,"Couldn't load image "+t),r._errors[t]="Couldn't load image "+t,r._toLoad--,r._loaded++}},t.prototype.get=function(t){return this._assets[t]},t.prototype.remove=function(t){var e=this._assets[t];e.dispose&&e.dispose(),this._assets[t]=null},t.prototype.removeAll=function(){for(var t in this._assets){var e=this._assets[t];e.dispose&&e.dispose()}this._assets={}},t.prototype.isLoadingComplete=function(){return 0==this._toLoad},t.prototype.toLoad=function(){return this._toLoad},t.prototype.loaded=function(){return this._loaded},t.prototype.dispose=function(){this.removeAll()},t.prototype.hasErrors=function(){return Object.keys(this._errors).length>0},t.prototype.errors=function(){return this._errors},t}();t.AssetManager=e}(spine||(spine={}));var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},spine;!function(t){var e;!function(e){var n=function(e){function n(){e.call(this,function(e){return new t.canvas.CanvasTexture(e)})}return __extends(n,e),n}(t.AssetManager);e.AssetManager=n}(e=t.canvas||(t.canvas={}))}(spine||(spine={}));var spine;!function(t){var e=function(){function t(t){this._image=t}return t.prototype.getImage=function(){return this._image},t.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return n.Nearest;case"linear":return n.Linear;case"mipmap":return n.MipMap;case"mipmapnearestnearest":return n.MipMapNearestNearest;case"mipmaplinearnearest":return n.MipMapLinearNearest;case"mipmapnearestlinear":return n.MipMapNearestLinear;case"mipmaplinearlinear":return n.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},t.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return r.MirroredRepeat;case"clamptoedge":return r.ClampToEdge;case"repeat":return r.Repeat;default:throw new Error("Unknown texture wrap "+t)}},t}();t.Texture=e,function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"}(t.TextureFilter||(t.TextureFilter={}));var n=t.TextureFilter;!function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"}(t.TextureWrap||(t.TextureWrap={}));var r=t.TextureWrap,i=function(){function t(){this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.rotate=!1,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0}return t}();t.TextureRegion=i}(spine||(spine={}));var spine;!function(t){var e;!function(e){var n=function(t){function e(e){t.call(this,e)}return __extends(e,t),e.prototype.setFilters=function(){},e.prototype.setWraps=function(){},e.prototype.dispose=function(){},e}(t.Texture);e.CanvasTexture=n}(e=t.canvas||(t.canvas={}))}(spine||(spine={}));var spine;!function(t){var e;!function(e){var n=function(){function e(t){this.triangleRendering=!1,this.debugRendering=!1,this._ctx=t}return e.prototype.draw=function(t){this.triangleRendering?this.drawTriangles(t):this.drawImages(t)},e.prototype.drawImages=function(e){var n=this._ctx,r=e.drawOrder;this.debugRendering&&(n.strokeStyle="green");for(var i=0,a=r.length;a>i;i++){var s=r[i],o=s.getAttachment(),h=null,l=null,u=null;if(o instanceof t.RegionAttachment){var f=o;u=f.updateWorldVertices(s,!1),h=f.region,l=h.texture.getImage();var c=o,M=s.bone,p=u[0],d=u[1],v=(M.getWorldRotationX()-c.rotation)*Math.PI/180,g=u[24]-u[0],m=u[25]-u[1],y=u[8]-u[0],E=u[9]-u[1],w=Math.sqrt(g*g+m*m),_=-Math.sqrt(y*y+E*E);n.translate(p,d),n.rotate(v),h.rotate?(n.rotate(Math.PI/2),n.drawImage(l,h.x,h.y,h.height,h.width,0,0,_,-w),n.rotate(-Math.PI/2)):n.drawImage(l,h.x,h.y,h.width,h.height,0,0,w,_),this.debugRendering&&n.strokeRect(0,0,w,_),n.rotate(-v),n.translate(-p,-d)}}},e.prototype.drawTriangles=function(n){for(var r=null,i=null,a=null,s=n.drawOrder,o=0,h=s.length;h>o;o++){var l=s[o],u=l.getAttachment(),f=null,c=null;if(u instanceof t.RegionAttachment){var M=u;i=M.updateWorldVertices(l,!1),a=e.QUAD_TRIANGLES,c=M.region,f=c.texture.getImage()}else{if(!(u instanceof t.MeshAttachment))continue;var p=u;i=p.updateWorldVertices(l,!1),a=p.triangles,f=p.region.renderObject.texture.getImage()}if(null!=f){var d=l.data.blendMode;d!=r&&(r=d);for(var v=this._ctx,g=0;g<a.length;g+=3){var m=8*a[g],y=8*a[g+1],E=8*a[g+2],w=i[m],_=i[m+1],x=i[m+6],T=i[m+7],b=i[y],A=i[y+1],R=i[y+6],S=i[y+7],I=i[E],P=i[E+1],C=i[E+6],V=i[E+7];this.drawTriangle(f,w,_,x,T,b,A,R,S,I,P,C,V),this.debugRendering&&(v.strokeStyle="green",v.beginPath(),v.moveTo(w,_),v.lineTo(b,A),v.lineTo(I,P),v.lineTo(w,_),v.stroke())}}}},e.prototype.drawTriangle=function(t,e,n,r,i,a,s,o,h,l,u,f,c){var M=this._ctx;r*=t.width,i*=t.height,o*=t.width,h*=t.height,f*=t.width,c*=t.height,M.beginPath(),M.moveTo(e,n),M.lineTo(a,s),M.lineTo(l,u),M.closePath(),a-=e,s-=n,l-=e,u-=n,o-=r,h-=i,f-=r,c-=i;var p=1/(o*c-f*h),d=(c*a-h*l)*p,v=(c*s-h*u)*p,g=(o*l-f*a)*p,m=(o*u-f*s)*p,y=e-d*r-g*i,E=n-v*r-m*i;M.save(),M.transform(d,v,g,m,y,E),M.clip(),M.drawImage(t,0,0),M.restore()},e.QUAD_TRIANGLES=[0,1,2,2,3,0],e}();e.SkeletonRenderer=n}(e=t.canvas||(t.canvas={}))}(spine||(spine={}));var spine;!function(t){var e=function(){function t(t,e,n){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.duration=n}return t.prototype.apply=function(t,e,n,r,i){if(null==t)throw new Error("skeleton cannot be null.");r&&0!=this.duration&&(n%=this.duration,e>0&&(e%=this.duration));for(var a=this.timelines,s=0,o=a.length;o>s;s++)a[s].apply(t,e,n,i,1)},t.prototype.mix=function(t,e,n,r,i,a){if(null==t)throw new Error("skeleton cannot be null.");r&&0!=this.duration&&(n%=this.duration,e>0&&(e%=this.duration));for(var s=this.timelines,o=0,h=s.length;h>o;o++)s[o].apply(t,e,n,i,a)},t.binarySearch=function(t,e,n){void 0===n&&(n=1);var r=0,i=t.length/n-2;if(0==i)return n;for(var a=i>>>1;;){if(t[(a+1)*n]<=e?r=a+1:i=a,r==i)return(r+1)*n;a=r+i>>>1}},t.linearSearch=function(t,e,n){for(var r=0,i=t.length-n;i>=r;r+=n)if(t[r]>e)return r;return-1},t}();t.Animation=e;var n=function(){function e(n){if(0>=n)throw new Error("frameCount must be > 0: "+n);this.curves=t.Utils.newFloatArray((n-1)*e.BEZIER_SIZE)}return e.prototype.getFrameCount=function(){return this.curves.length/e.BEZIER_SIZE+1},e.prototype.setLinear=function(t){this.curves[t*e.BEZIER_SIZE]=e.LINEAR},e.prototype.setStepped=function(t){this.curves[t*e.BEZIER_SIZE]=e.STEPPED},e.prototype.getCurveType=function(t){var n=t*e.BEZIER_SIZE;if(n==this.curves.length)return e.LINEAR;var r=this.curves[n];return r==e.LINEAR?e.LINEAR:r==e.STEPPED?e.STEPPED:e.BEZIER},e.prototype.setCurve=function(t,n,r,i,a){var s=.03*(2*-n+i),o=.03*(2*-r+a),h=.006*(3*(n-i)+1),l=.006*(3*(r-a)+1),u=2*s+h,f=2*o+l,c=.3*n+s+.16666667*h,M=.3*r+o+.16666667*l,p=t*e.BEZIER_SIZE,d=this.curves;d[p++]=e.BEZIER;for(var v=c,g=M,m=p+e.BEZIER_SIZE-1;m>p;p+=2)d[p]=v,d[p+1]=g,c+=u,M+=f,u+=h,f+=l,v+=c,g+=M},e.prototype.getCurvePercent=function(n,r){r=t.MathUtils.clamp(r,0,1);var i=this.curves,a=n*e.BEZIER_SIZE,s=i[a];if(s==e.LINEAR)return r;if(s==e.STEPPED)return 0;a++;for(var o=0,h=a,l=a+e.BEZIER_SIZE-1;l>a;a+=2)if(o=i[a],o>=r){var u=void 0,f=void 0;return a==h?(u=0,f=0):(u=i[a-2],f=i[a-1]),f+(i[a+1]-f)*(r-u)/(o-u)}var c=i[a-1];return c+(1-c)*(r-o)/(1-o)},e.LINEAR=0,e.STEPPED=1,e.BEZIER=2,e.BEZIER_SIZE=19,e}();t.CurveTimeline=n;var r=function(n){function r(e){n.call(this,e),this.frames=t.Utils.newFloatArray(e<<1)}return __extends(r,n),r.prototype.setFrame=function(t,e,n){t<<=1,this.frames[t]=e,this.frames[t+r.ROTATION]=n},r.prototype.apply=function(t,n,i,a,s){var o=this.frames;if(!(i<o[0])){var h=t.bones[this.boneIndex];if(i>=o[o.length-r.ENTRIES]){for(var l=h.data.rotation+o[o.length+r.PREV_ROTATION]-h.rotation;l>180;)l-=360;for(;-180>l;)l+=360;return h.rotation+=l*s,void 0}for(var u=e.binarySearch(o,i,r.ENTRIES),f=o[u+r.PREV_ROTATION],c=o[u],M=this.getCurvePercent((u>>1)-1,1-(i-c)/(o[u+r.PREV_TIME]-c)),p=o[u+r.ROTATION]-f;p>180;)p-=360;for(;-180>p;)p+=360;for(p=h.data.rotation+(f+p*M)-h.rotation;p>180;)p-=360;for(;-180>p;)p+=360;h.rotation+=p*s}},r.ENTRIES=2,r.PREV_TIME=-2,r.PREV_ROTATION=-1,r.ROTATION=1,r}(n);t.RotateTimeline=r;var i=function(n){function r(e){n.call(this,e),this.frames=t.Utils.newFloatArray(e*r.ENTRIES)}return __extends(r,n),r.prototype.setFrame=function(t,e,n,i){t*=r.ENTRIES,this.frames[t]=e,this.frames[t+r.X]=n,this.frames[t+r.Y]=i},r.prototype.apply=function(t,n,i,a,s){var o=this.frames;if(!(i<o[0])){var h=t.bones[this.boneIndex];if(i>=o[o.length-r.ENTRIES])return h.x+=(h.data.x+o[o.length+r.PREV_X]-h.x)*s,h.y+=(h.data.y+o[o.length+r.PREV_Y]-h.y)*s,void 0;var l=e.binarySearch(o,i,r.ENTRIES),u=o[l+r.PREV_X],f=o[l+r.PREV_Y],c=o[l],M=this.getCurvePercent(l/r.ENTRIES-1,1-(i-c)/(o[l+r.PREV_TIME]-c));h.x+=(h.data.x+u+(o[l+r.X]-u)*M-h.x)*s,h.y+=(h.data.y+f+(o[l+r.Y]-f)*M-h.y)*s}},r.ENTRIES=3,r.PREV_TIME=-3,r.PREV_X=-2,r.PREV_Y=-1,r.X=1,r.Y=2,r}(n);t.TranslateTimeline=i;var a=function(t){function n(e){t.call(this,e)}return __extends(n,t),n.prototype.apply=function(t,r,i,a,s){var o=this.frames;if(!(i<o[0])){var h=t.bones[this.boneIndex];if(i>=o[o.length-n.ENTRIES])return h.scaleX+=(h.data.scaleX*o[o.length+n.PREV_X]-h.scaleX)*s,h.scaleY+=(h.data.scaleY*o[o.length+n.PREV_Y]-h.scaleY)*s,void 0;var l=e.binarySearch(o,i,n.ENTRIES),u=o[l+n.PREV_X],f=o[l+n.PREV_Y],c=o[l],M=this.getCurvePercent(l/n.ENTRIES-1,1-(i-c)/(o[l+n.PREV_TIME]-c));h.scaleX+=(h.data.scaleX*(u+(o[l+n.X]-u)*M)-h.scaleX)*s,h.scaleY+=(h.data.scaleY*(f+(o[l+n.Y]-f)*M)-h.scaleY)*s}},n}(i);t.ScaleTimeline=a;var s=function(t){function n(e){t.call(this,e)}return __extends(n,t),n.prototype.apply=function(t,r,i,a,s){var o=this.frames;if(!(i<o[0])){var h=t.bones[this.boneIndex];if(i>=o[o.length-n.ENTRIES])return h.shearX+=(h.data.shearX+o[o.length+n.PREV_X]-h.shearX)*s,h.shearY+=(h.data.shearY+o[o.length+n.PREV_Y]-h.shearY)*s,void 0;var l=e.binarySearch(o,i,n.ENTRIES),u=o[l+n.PREV_X],f=o[l+n.PREV_Y],c=o[l],M=this.getCurvePercent(l/n.ENTRIES-1,1-(i-c)/(o[l+n.PREV_TIME]-c));h.shearX+=(h.data.shearX+(u+(o[l+n.X]-u)*M)-h.shearX)*s,h.shearY+=(h.data.shearY+(f+(o[l+n.Y]-f)*M)-h.shearY)*s}},n}(i);t.ShearTimeline=s;var o=function(n){function r(e){n.call(this,e),this.frames=t.Utils.newFloatArray(e*r.ENTRIES)}return __extends(r,n),r.prototype.setFrame=function(t,e,n,i,a,s){t*=r.ENTRIES,this.frames[t]=e,this.frames[t+r.R]=n,this.frames[t+r.G]=i,this.frames[t+r.B]=a,this.frames[t+r.A]=s},r.prototype.apply=function(t,n,i,a,s){var o=this.frames;if(!(i<o[0])){var h=0,l=0,u=0,f=0;if(i>=o[o.length-r.ENTRIES]){var c=o.length;h=o[c+r.PREV_R],l=o[c+r.PREV_G],u=o[c+r.PREV_B],f=o[c+r.PREV_A]}else{var M=e.binarySearch(o,i,r.ENTRIES);h=o[M+r.PREV_R],l=o[M+r.PREV_G],u=o[M+r.PREV_B],f=o[M+r.PREV_A];var p=o[M],d=this.getCurvePercent(M/r.ENTRIES-1,1-(i-p)/(o[M+r.PREV_TIME]-p));h+=(o[M+r.R]-h)*d,l+=(o[M+r.G]-l)*d,u+=(o[M+r.B]-u)*d,f+=(o[M+r.A]-f)*d}var v=t.slots[this.slotIndex].color;1>s?v.add((h-v.r)*s,(l-v.g)*s,(u-v.b)*s,(f-v.a)*s):v.set(h,l,u,f)}},r.ENTRIES=5,r.PREV_TIME=-5,r.PREV_R=-4,r.PREV_G=-3,r.PREV_B=-2,r.PREV_A=-1,r.R=1,r.G=2,r.B=3,r.A=4,r}(n);t.ColorTimeline=o;var h=function(){function n(e){this.frames=t.Utils.newFloatArray(e),this.attachmentNames=new Array(e)}return n.prototype.getFrameCount=function(){return this.frames.length},n.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n},n.prototype.apply=function(t,n,r){var i=this.frames;if(!(r<i[0])){var a=0;a=r>=i[i.length-1]?i.length-1:e.binarySearch(i,r,1)-1;var s=this.attachmentNames[a];t.slots[this.slotIndex].setAttachment(null==s?null:t.getAttachment(this.slotIndex,s))}},n}();t.AttachmentTimeline=h;var l=function(){function n(e){this.frames=t.Utils.newFloatArray(e),this.events=new Array(e)}return n.prototype.getFrameCount=function(){return this.frames.length},n.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},n.prototype.apply=function(t,n,r,i,a){if(null!=i){var s=this.frames,o=this.frames.length;if(n>r)this.apply(t,n,Number.MAX_VALUE,i,a),n=-1;else if(n>=s[o-1])return;if(!(r<s[0])){var h=0;if(n<s[0])h=0;else{h=e.binarySearch(s,n);for(var l=s[h];h>0&&s[h-1]==l;)h--}for(;o>h&&r>=s[h];h++)i.push(this.events[h])}}},n}();t.EventTimeline=l;var u=function(){function n(e){this.frames=t.Utils.newFloatArray(e),this.drawOrders=new Array(e)}return n.prototype.getFrameCount=function(){return this.frames.length},n.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n},n.prototype.apply=function(n,r,i){var a=this.frames;if(!(i<a[0])){var s=0;s=i>=a[a.length-1]?a.length-1:e.binarySearch(a,i)-1;var o=n.drawOrder,h=n.slots,l=this.drawOrders[s];if(null==l)t.Utils.arrayCopy(h,0,o,0,h.length);else for(var u=0,f=l.length;f>u;u++)o[u]=h[l[u]]}},n}();t.DrawOrderTimeline=u;var f=function(n){function r(e){n.call(this,e),this.frames=t.Utils.newFloatArray(e),this.frameVertices=new Array(e)}return __extends(r,n),r.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.frameVertices[t]=n},r.prototype.apply=function(n,r,i,a,s){var o=n.slots[this.slotIndex],h=o.getAttachment();if(h instanceof t.VertexAttachment&&h.applyDeform(this.attachment)){var l=this.frames;if(!(i<l[0])){var u=this.frameVertices,f=u[0].length,c=o.attachmentVertices;c.length!=f&&(s=1);var M=t.Utils.setArraySize(c,f);if(i>=l[l.length-1]){var p=u[l.length-1];if(1>s)for(var d=0;f>d;d++)M[d]+=(p[d]-M[d])*s;else t.Utils.arrayCopy(p,0,M,0,f)}else{var v=e.binarySearch(l,i),g=u[v-1],m=u[v],y=l[v],E=this.getCurvePercent(v-1,1-(i-y)/(l[v-1]-y));if(1>s)for(var d=0;f>d;d++){var w=g[d];M[d]+=(w+(m[d]-w)*E-M[d])*s}else for(var d=0;f>d;d++){var w=g[d];M[d]=w+(m[d]-w)*E}}}}},r}(n);t.DeformTimeline=f;var c=function(n){function r(e){n.call(this,e),this.frames=t.Utils.newFloatArray(e*r.ENTRIES)}return __extends(r,n),r.prototype.setFrame=function(t,e,n,i){t*=r.ENTRIES,this.frames[t]=e,this.frames[t+r.MIX]=n,this.frames[t+r.BEND_DIRECTION]=i},r.prototype.apply=function(t,n,i,a,s){var o=this.frames;if(!(i<o[0])){var h=t.ikConstraints[this.ikConstraintIndex];if(i>=o[o.length-r.ENTRIES])return h.mix+=(o[o.length+r.PREV_MIX]-h.mix)*s,h.bendDirection=Math.floor(o[o.length+r.PREV_BEND_DIRECTION]),void 0;var l=e.binarySearch(o,i,r.ENTRIES),u=o[l+r.PREV_MIX],f=o[l],c=this.getCurvePercent(l/r.ENTRIES-1,1-(i-f)/(o[l+r.PREV_TIME]-f));h.mix+=(u+(o[l+r.MIX]-u)*c-h.mix)*s,h.bendDirection=Math.floor(o[l+r.PREV_BEND_DIRECTION])}},r.ENTRIES=3,r.PREV_TIME=-3,r.PREV_MIX=-2,r.PREV_BEND_DIRECTION=-1,r.MIX=1,r.BEND_DIRECTION=2,r}(n);t.IkConstraintTimeline=c;var M=function(n){function r(e){n.call(this,e),this.frames=t.Utils.newFloatArray(e*r.ENTRIES)}return __extends(r,n),r.prototype.setFrame=function(t,e,n,i,a,s){t*=r.ENTRIES,this.frames[t]=e,this.frames[t+r.ROTATE]=n,this.frames[t+r.TRANSLATE]=i,this.frames[t+r.SCALE]=a,this.frames[t+r.SHEAR]=s},r.prototype.apply=function(t,n,i,a,s){var o=this.frames;if(!(i<o[0])){var h=t.transformConstraints[this.transformConstraintIndex];if(i>=o[o.length-r.ENTRIES]){var l=o.length;return h.rotateMix+=(o[l+r.PREV_ROTATE]-h.rotateMix)*s,h.translateMix+=(o[l+r.PREV_TRANSLATE]-h.translateMix)*s,h.scaleMix+=(o[l+r.PREV_SCALE]-h.scaleMix)*s,h.shearMix+=(o[l+r.PREV_SHEAR]-h.shearMix)*s,void 0}var u=e.binarySearch(o,i,r.ENTRIES),f=o[u],c=this.getCurvePercent(u/r.ENTRIES-1,1-(i-f)/(o[u+r.PREV_TIME]-f)),M=o[u+r.PREV_ROTATE],p=o[u+r.PREV_TRANSLATE],d=o[u+r.PREV_SCALE],v=o[u+r.PREV_SHEAR];h.rotateMix+=(M+(o[u+r.ROTATE]-M)*c-h.rotateMix)*s,h.translateMix+=(p+(o[u+r.TRANSLATE]-p)*c-h.translateMix)*s,h.scaleMix+=(d+(o[u+r.SCALE]-d)*c-h.scaleMix)*s,h.shearMix+=(v+(o[u+r.SHEAR]-v)*c-h.shearMix)*s}},r.ENTRIES=5,r.PREV_TIME=-5,r.PREV_ROTATE=-4,r.PREV_TRANSLATE=-3,r.PREV_SCALE=-2,r.PREV_SHEAR=-1,r.ROTATE=1,r.TRANSLATE=2,r.SCALE=3,r.SHEAR=4,r}(n);t.TransformConstraintTimeline=M;var p=function(n){function r(e){n.call(this,e),this.frames=t.Utils.newFloatArray(e*r.ENTRIES)}return __extends(r,n),r.prototype.setFrame=function(t,e,n){t*=r.ENTRIES,this.frames[t]=e,this.frames[t+r.VALUE]=n},r.prototype.apply=function(t,n,i,a,s){var o=this.frames;if(!(i<o[0])){var h=t.pathConstraints[this.pathConstraintIndex];if(i>=o[o.length-r.ENTRIES]){var l=o.length;return h.position+=(o[l+r.PREV_VALUE]-h.position)*s,void 0}var u=e.binarySearch(o,i,r.ENTRIES),f=o[u+r.PREV_VALUE],c=o[u],M=this.getCurvePercent(u/r.ENTRIES-1,1-(i-c)/(o[u+r.PREV_TIME]-c));h.position+=(f+(o[u+r.VALUE]-f)*M-h.position)*s}},r.ENTRIES=2,r.PREV_TIME=-2,r.PREV_VALUE=-1,r.VALUE=1,r}(n);t.PathConstraintPositionTimeline=p;var d=function(t){function n(e){t.call(this,e)}return __extends(n,t),n.prototype.apply=function(t,r,i,a,s){var o=this.frames;if(!(i<o[0])){var h=t.pathConstraints[this.pathConstraintIndex];if(i>=o[o.length-n.ENTRIES]){var l=o.length;return h.spacing+=(o[l+n.PREV_VALUE]-h.spacing)*s,void 0}var u=e.binarySearch(o,i,n.ENTRIES),f=o[u+n.PREV_VALUE],c=o[u],M=this.getCurvePercent(u/n.ENTRIES-1,1-(i-c)/(o[u+n.PREV_TIME]-c));h.spacing+=(f+(o[u+n.VALUE]-f)*M-h.spacing)*s}},n}(p);t.PathConstraintSpacingTimeline=d;var v=function(n){function r(e){n.call(this,e),this.frames=t.Utils.newFloatArray(e*r.ENTRIES)}return __extends(r,n),r.prototype.setFrame=function(t,e,n,i){t*=r.ENTRIES,this.frames[t]=e,this.frames[t+r.ROTATE]=n,this.frames[t+r.TRANSLATE]=i},r.prototype.apply=function(t,n,i,a,s){var o=this.frames;if(!(i<o[0])){var h=t.pathConstraints[this.pathConstraintIndex];if(i>=o[o.length-r.ENTRIES]){var l=o.length;return h.rotateMix+=(o[l+r.PREV_ROTATE]-h.rotateMix)*s,h.translateMix+=(o[l+r.PREV_TRANSLATE]-h.translateMix)*s,void 0}var u=e.binarySearch(o,i,r.ENTRIES),f=o[u+r.PREV_ROTATE],c=o[u+r.PREV_TRANSLATE],M=o[u],p=this.getCurvePercent(u/r.ENTRIES-1,1-(i-M)/(o[u+r.PREV_TIME]-M));h.rotateMix+=(f+(o[u+r.ROTATE]-f)*p-h.rotateMix)*s,h.translateMix+=(c+(o[u+r.TRANSLATE]-c)*p-h.translateMix)*s}},r.ENTRIES=3,r.PREV_TIME=-3,r.PREV_ROTATE=-2,r.PREV_TRANSLATE=-1,r.ROTATE=1,r.TRANSLATE=2,r}(n);t.PathConstraintMixTimeline=v}(spine||(spine={}));var spine;!function(t){var e=function(){function e(t){if(void 0===t&&(t=null),this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.timeScale=1,null==t)throw new Error("data cannot be null.");this.data=t}return e.prototype.update=function(t){t*=this.timeScale;for(var e=0;e<this.tracks.length;e++){var n=this.tracks[e];if(null!=n){var r=n.next;if(null!=r){var i=n.lastTime-r.delay;if(i>=0){var a=t*r.timeScale;r.time=i+a,n.time+=t*n.timeScale,this.setCurrent(e,r),r.time-=a,n=r}}else if(!n.loop&&n.lastTime>=n.endTime){this.clearTrack(e);continue}if(n.time+=t*n.timeScale,null!=n.previous){var s=t*n.previous.timeScale;n.previous.time+=s,n.mixTime+=s}}}},e.prototype.apply=function(e){for(var n=this.events,r=this.listeners.length,i=0;i<this.tracks.length;i++){var a=this.tracks[i];if(null!=a){n.length=0;var s=a.time,o=a.lastTime,h=a.endTime,l=a.loop;!l&&s>h&&(s=h);var u=a.previous;if(null==u)a.animation.mix(e,o,s,l,n,a.mix);else{var f=u.time;!u.loop&&f>u.endTime&&(f=u.endTime),u.animation.apply(e,f,f,u.loop,null);var c=a.mixTime/a.mixDuration*a.mix;c>=1&&(c=1,a.previous=null),a.animation.mix(e,o,s,l,n,c)}for(var M=0,p=n.length;p>M;M++){var d=n[M];null!=a.listener&&a.listener.event(i,d);for(var v=0;r>v;v++)this.listeners[v].event(i,d)}if(l?o%h>s%h:h>o&&s>=h){var g=t.MathUtils.toInt(s/h);null!=a.listener&&a.listener.complete(i,g);for(var M=0,p=this.listeners.length;p>M;M++)this.listeners[M].complete(i,g)}a.lastTime=a.time}}},e.prototype.clearTracks=function(){for(var t=0,e=this.tracks.length;e>t;t++)this.clearTrack(t);this.tracks.length=0},e.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){null!=e.listener&&e.listener.end(t);for(var n=0,r=this.listeners.length;r>n;n++)this.listeners[n].end(t);this.tracks[t]=null,this.freeAll(e)}}},e.prototype.freeAll=function(t){for(;null!=t;){var e=t.next;t=e}},e.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(t.Utils.setArraySize(this.tracks,e-this.tracks.length+1,null),this.tracks.length=e+1,null)},e.prototype.setCurrent=function(t,e){var n=this.expandToIndex(t);if(null!=n){var r=n.previous;n.previous=null,null!=n.listener&&n.listener.end(t);for(var i=0,a=this.listeners.length;a>i;i++)this.listeners[i].end(t);e.mixDuration=this.data.getMix(n.animation,e.animation),e.mixDuration>0&&(e.mixTime=0,null!=r&&n.mixTime/n.mixDuration<.5?(e.previous=r,r=n):e.previous=n)}this.tracks[t]=e,null!=e.listener&&e.listener.start(t);for(var i=0,a=this.listeners.length;a>i;i++)this.listeners[i].start(t)},e.prototype.setAnimation=function(t,e,n){var r=this.data.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,r,n)},e.prototype.setAnimationWith=function(t,e,r){var i=this.expandToIndex(t);null!=i&&this.freeAll(i.next);var a=new n;return a.animation=e,a.loop=r,a.endTime=e.duration,this.setCurrent(t,a),a},e.prototype.addAnimation=function(t,e,n,r){var i=this.data.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,i,n,r)},e.prototype.addAnimationWith=function(t,e,r,i){var a=new n;a.animation=e,a.loop=r,a.endTime=e.duration;var s=this.expandToIndex(t);if(null!=s){for(;null!=s.next;)s=s.next;s.next=a}else this.tracks[t]=a;return 0>=i&&(null!=s?i+=s.endTime-this.data.getMix(s.animation,e):i=0),a.delay=i,a},e.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},e.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},e.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)},e.prototype.clearListeners=function(){this.listeners.length=0},e}();t.AnimationState=e;var n=function(){function t(){this.loop=!1,this.delay=0,this.time=0,this.lastTime=-1,this.endTime=0,this.timeScale=1,this.mixTime=0,this.mixDuration=0,this.mix=1}return t.prototype.reset=function(){this.next=null,this.previous=null,this.animation=null,this.listener=null,this.timeScale=1,this.lastTime=-1,this.time=0},t.prototype.isComplete=function(){return this.time>=this.endTime},t}();t.TrackEntry=n;var r=function(){function t(){}return t.prototype.event=function(){},t.prototype.complete=function(){},t.prototype.start=function(){},t.prototype.end=function(){},t}();t.AnimationStateAdapter=r}(spine||(spine={}));var spine;!function(t){var e=function(){function t(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return t.prototype.setMix=function(t,e,n){var r=this.skeletonData.findAnimation(t);if(null==r)throw new Error("Animation not found: "+t);var i=this.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);this.setMixWith(r,i,n)},t.prototype.setMixWith=function(t,e,n){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var r=t.name+e.name;this.animationToMixTime[r]=n},t.prototype.getMix=function(t,e){var n=t.name+e.name,r=this.animationToMixTime[n];return void 0===r?this.defaultMix:r},t}();t.AnimationStateData=e}(spine||(spine={}));var spine;!function(t){!function(t){t[t.Normal=0]="Normal",t[t.Additive=1]="Additive",t[t.Multiply=2]="Multiply",t[t.Screen=3]="Screen"}(t.BlendMode||(t.BlendMode={}));t.BlendMode}(spine||(spine={}));var spine;!function(t){var e=function(){function e(t,e,n){if(this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.appliedRotation=0,this.a=0,this.b=0,this.worldX=0,this.c=0,this.d=0,this.worldY=0,this.worldSignX=0,this.worldSignY=0,this.sorted=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()}return e.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransformWith=function(e,n,r,i,a,s,o){this.appliedRotation=r;var h=r+90+o,l=t.MathUtils.cosDeg(r+s)*i,u=t.MathUtils.cosDeg(h)*a,f=t.MathUtils.sinDeg(r+s)*i,c=t.MathUtils.sinDeg(h)*a,M=this.parent;if(null==M){var p=this.skeleton;return p.flipX&&(e=-e,l=-l,u=-u),p.flipY&&(n=-n,f=-f,c=-c),this.a=l,this.b=u,this.c=f,this.d=c,this.worldX=e,this.worldY=n,this.worldSignX=t.MathUtils.signum(i),this.worldSignY=t.MathUtils.signum(a),void 0}var d=M.a,v=M.b,g=M.c,m=M.d;if(this.worldX=d*e+v*n+M.worldX,this.worldY=g*e+m*n+M.worldY,this.worldSignX=M.worldSignX*t.MathUtils.signum(i),this.worldSignY=M.worldSignY*t.MathUtils.signum(a),this.data.inheritRotation&&this.data.inheritScale)this.a=d*l+v*f,this.b=d*u+v*c,this.c=g*l+m*f,this.d=g*u+m*c;else{if(this.data.inheritRotation){d=1,v=0,g=0,m=1;do{var y=t.MathUtils.cosDeg(M.appliedRotation),E=t.MathUtils.sinDeg(M.appliedRotation),w=d*y+v*E;if(v=v*y-d*E,d=w,w=g*y+m*E,m=m*y-g*E,g=w,!M.data.inheritRotation)break;M=M.parent}while(null!=M);this.a=d*l+v*f,this.b=d*u+v*c,this.c=g*l+m*f,this.d=g*u+m*c}else if(this.data.inheritScale){d=1,v=0,g=0,m=1;do{var y=t.MathUtils.cosDeg(M.appliedRotation),E=t.MathUtils.sinDeg(M.appliedRotation),_=M.scaleX,x=M.scaleY,T=y*_,b=E*x,A=E*_,R=y*x,w=d*T+v*A;if(v=v*R-d*b,d=w,w=g*T+m*A,m=m*R-g*b,g=w,_>=0&&(E=-E),w=d*y+v*E,v=v*y-d*E,d=w,w=g*y+m*E,m=m*y-g*E,g=w,!M.data.inheritScale)break;M=M.parent}while(null!=M);this.a=d*l+v*f,this.b=d*u+v*c,this.c=g*l+m*f,this.d=g*u+m*c}else this.a=l,this.b=u,this.c=f,this.d=c;this.skeleton.flipX&&(this.a=-this.a,this.b=-this.b),this.skeleton.flipY&&(this.c=-this.c,this.d=-this.d)}},e.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},e.prototype.getWorldRotationX=function(){return Math.atan2(this.c,this.a)*t.MathUtils.radDeg},e.prototype.getWorldRotationY=function(){return Math.atan2(this.d,this.b)*t.MathUtils.radDeg},e.prototype.getWorldScaleX=function(){return Math.sqrt(this.a*this.a+this.b*this.b)*this.worldSignX},e.prototype.getWorldScaleY=function(){return Math.sqrt(this.c*this.c+this.d*this.d)*this.worldSignY},e.prototype.worldToLocalRotationX=function(){var e=this.parent;if(null==e)return this.rotation;var n=e.a,r=e.b,i=e.c,a=e.d,s=this.a,o=this.c;return Math.atan2(n*o-i*s,a*s-r*o)*t.MathUtils.radDeg},e.prototype.worldToLocalRotationY=function(){var e=this.parent;if(null==e)return this.rotation;var n=e.a,r=e.b,i=e.c,a=e.d,s=this.b,o=this.d;return Math.atan2(n*o-i*s,a*s-r*o)*t.MathUtils.radDeg},e.prototype.rotateWorld=function(e){var n=this.a,r=this.b,i=this.c,a=this.d,s=t.MathUtils.cosDeg(e),o=t.MathUtils.sinDeg(e);this.a=s*n-o*i,this.b=s*r-o*a,this.c=o*n+s*i,this.d=o*r+s*a},e.prototype.updateLocalTransform=function(){var e=this.parent;if(null==e){this.x=this.worldX,this.y=this.worldY,this.rotation=Math.atan2(this.c,this.a)*t.MathUtils.radDeg,this.scaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.scaleY=Math.sqrt(this.b*this.b+this.d*this.d);var n=this.a*this.d-this.b*this.c;return this.shearX=0,this.shearY=Math.atan2(this.a*this.b+this.c*this.d,n)*t.MathUtils.radDeg,void 0}var r=e.a,i=e.b,a=e.c,s=e.d,o=1/(r*s-i*a),h=this.worldX-e.worldX,l=this.worldY-e.worldY;this.x=h*s*o-l*i*o,this.y=l*r*o-h*a*o;var u=o*s,f=o*r,c=o*i,M=o*a,p=u*this.a-c*this.c,d=u*this.b-c*this.d,v=f*this.c-M*this.a,g=f*this.d-M*this.b;if(this.shearX=0,this.scaleX=Math.sqrt(p*p+v*v),this.scaleX>1e-4){var n=p*g-d*v;this.scaleY=n/this.scaleX,this.shearY=Math.atan2(p*d+v*g,n)*t.MathUtils.radDeg,this.rotation=Math.atan2(v,p)*t.MathUtils.radDeg}else this.scaleX=0,this.scaleY=Math.sqrt(d*d+g*g),this.shearY=0,this.rotation=90-Math.atan2(g,d)*t.MathUtils.radDeg;this.appliedRotation=this.rotation},e.prototype.worldToLocal=function(t){var e=this.a,n=this.b,r=this.c,i=this.d,a=1/(e*i-n*r),s=t.x-this.worldX,o=t.y-this.worldY;return t.x=s*i*a-o*n*a,t.y=o*e*a-s*r*a,t},e.prototype.localToWorld=function(t){var e=t.x,n=t.y;return t.x=e*this.a+n*this.b+this.worldX,t.y=e*this.c+n*this.d+this.worldY,t},e}();t.Bone=e}(spine||(spine={}));var spine;!function(t){var e=function(){function t(t,e,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.inheritRotation=!0,this.inheritScale=!0,0>t)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=n}return t}();t.BoneData=e}(spine||(spine={}));var spine;!function(t){var e=function(){function t(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e}return t}();t.Event=e}(spine||(spine={}));var spine;!function(t){var e=function(){function t(t){this.name=t}return t}();t.EventData=e}(spine||(spine={}));var spine;!function(t){var e=function(){function e(t,e){if(this.mix=1,this.bendDirection=0,this.level=0,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}return e.prototype.apply=function(){this.update()},e.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.mix)}},e.prototype.apply1=function(e,n,r,i){var a=e.parent,s=1/(a.a*a.d-a.b*a.c),o=n-a.worldX,h=r-a.worldY,l=(o*a.d-h*a.b)*s-e.x,u=(h*a.a-o*a.c)*s-e.y,f=Math.atan2(u,l)*t.MathUtils.radDeg-e.shearX-e.rotation;e.scaleX<0&&(f+=180),f>180?f-=360:-180>f&&(f+=360),e.updateWorldTransformWith(e.x,e.y,e.rotation+f*i,e.scaleX,e.scaleY,e.shearX,e.shearY)},e.prototype.apply2=function(e,n,r,i,a,s){if(0==s)return n.updateWorldTransform(),void 0;var o=e.x,h=e.y,l=e.scaleX,u=e.scaleY,f=n.scaleX,c=0,M=0,p=0;0>l?(l=-l,c=180,p=-1):(c=0,p=1),0>u&&(u=-u,p=-p),0>f?(f=-f,M=180):M=0;var d=n.x,v=0,g=0,m=0,y=e.a,E=e.b,w=e.c,_=e.d,x=Math.abs(l-u)<=1e-4;x?(v=n.y,g=y*d+E*v+e.worldX,m=w*d+_*v+e.worldY):(v=0,g=y*d+e.worldX,m=w*d+e.worldY);var T=e.parent;y=T.a,E=T.b,w=T.c,_=T.d;var b=1/(y*_-E*w),A=r-T.worldX,R=i-T.worldY,S=(A*_-R*E)*b-o,I=(R*y-A*w)*b-h;A=g-T.worldX,R=m-T.worldY;var P=(A*_-R*E)*b-o,C=(R*y-A*w)*b-h,V=Math.sqrt(P*P+C*C),N=n.data.length*f,L=0,U=0;t:if(x){N*=l;var X=(S*S+I*I-V*V-N*N)/(2*V*N);-1>X?X=-1:X>1&&(X=1),U=Math.acos(X)*a,y=V+N*X,E=N*Math.sin(U),L=Math.atan2(I*y-S*E,S*y+I*E)}else{y=l*N,E=u*N;var B=y*y,k=E*E,Y=S*S+I*I,O=Math.atan2(I,S);w=k*V*V+B*Y-B*k;var F=-2*k*V,D=k-B;if(_=F*F-4*D*w,_>=0){var W=Math.sqrt(_);0>F&&(W=-W),W=-(F+W)/2;var G=W/D,z=w/W,q=Math.abs(G)<Math.abs(z)?G:z;if(Y>=q*q){R=Math.sqrt(Y-q*q)*a,L=O-Math.atan2(R,q),U=Math.atan2(R/u,(q-V)/l);break t
}}var Z=0,H=Number.MAX_VALUE,j=0,Q=0,K=0,J=0,$=0,te=0;A=V+y,_=A*A,_>J&&(K=0,J=_,$=A),A=V-y,_=A*A,H>_&&(Z=t.MathUtils.PI,H=_,j=A);var ee=Math.acos(-y*V/(B-k));A=y*Math.cos(ee)+V,R=E*Math.sin(ee),_=A*A+R*R,H>_&&(Z=ee,H=_,j=A,Q=R),_>J&&(K=ee,J=_,$=A,te=R),(H+J)/2>=Y?(L=O-Math.atan2(Q*a,j),U=Z*a):(L=O-Math.atan2(te*a,$),U=K*a)}var ne=Math.atan2(v,d)*p,re=e.rotation;L=(L-ne)*t.MathUtils.radDeg+c-re,L>180?L-=360:-180>L&&(L+=360),e.updateWorldTransformWith(o,h,re+L*s,e.scaleX,e.scaleY,0,0),re=n.rotation,U=((U+ne)*t.MathUtils.radDeg-n.shearX)*p+M-re,U>180?U-=360:-180>U&&(U+=360),n.updateWorldTransformWith(d,v,re+U*s,n.scaleX,n.scaleY,n.shearX,n.shearY)},e}();t.IkConstraint=e}(spine||(spine={}));var spine;!function(t){var e=function(){function t(t){this.bones=new Array,this.bendDirection=1,this.mix=1,this.name=t}return t}();t.IkConstraintData=e}(spine||(spine={}));var spine;!function(t){var e=function(){function e(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0,r=t.bones.length;r>n;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}return e.prototype.apply=function(){this.update()},e.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof t.PathAttachment){var n=this.rotateMix,r=this.translateMix,i=r>0,a=n>0;if(i||a){var s=this.data,o=s.spacingMode,h=o==t.SpacingMode.Length,l=s.rotateMode,u=l==t.RotateMode.Tangent,f=l==t.RotateMode.ChainScale,c=this.bones.length,M=u?c:c+1,p=this.bones,d=t.Utils.setArraySize(this.spaces,M),v=null,g=this.spacing;if(f||h){f&&(v=t.Utils.setArraySize(this.lengths,c));for(var m=0,y=M-1;y>m;){var E=p[m],w=E.data.length,_=w*E.a,x=w*E.c;w=Math.sqrt(_*_+x*x),f&&(v[m]=w),d[++m]=h?Math.max(0,w+g):g}}else for(var m=1;M>m;m++)d[m]=g;for(var T=this.computeWorldPositions(e,M,u,s.positionMode==t.PositionMode.Percent,o==t.SpacingMode.Percent),b=this.target.bone.skeleton,A=b.x,R=b.y,S=T[0],I=T[1],P=s.offsetRotation,C=l==t.RotateMode.Chain&&0==P,m=0,V=3;c>m;m++,V+=3){var E=p[m];E.worldX+=(S-A-E.worldX)*r,E.worldY+=(I-R-E.worldY)*r;var _=T[V],x=T[V+1],N=_-S,L=x-I;if(f){var U=v[m];if(0!=U){var X=(Math.sqrt(N*N+L*L)/U-1)*n+1;E.a*=X,E.c*=X}}if(S=_,I=x,a){var B=E.a,k=E.b,Y=E.c,O=E.d,F=0,D=0,W=0;if(F=u?T[V-1]:0==d[m+1]?T[V+2]:Math.atan2(L,N),F-=Math.atan2(Y,B)-P*t.MathUtils.degRad,C){D=Math.cos(F),W=Math.sin(F);var G=E.data.length;S+=(G*(D*B-W*Y)-N)*n,I+=(G*(W*B+D*Y)-L)*n}F>t.MathUtils.PI?F-=t.MathUtils.PI2:F<-t.MathUtils.PI&&(F+=t.MathUtils.PI2),F*=n,D=Math.cos(F),W=Math.sin(F),E.a=D*B-W*Y,E.b=D*k-W*O,E.c=W*B+D*Y,E.d=W*k+D*O}}}}},e.prototype.computeWorldPositions=function(n,r,i,a,s){var o=this.target,h=this.position,l=this.spaces,u=t.Utils.setArraySize(this.positions,3*r+2),f=null,c=n.closed,M=n.worldVerticesLength,p=M/6,d=e.NONE;if(!n.constantSpeed){var v=n.lengths;p-=c?1:2;var g=v[p];if(a&&(h*=g),s)for(var m=0;r>m;m++)l[m]*=g;f=t.Utils.setArraySize(this.world,8);for(var m=0,y=0,E=0;r>m;m++,y+=3){var w=l[m];h+=w;var _=h;if(c)_%=g,0>_&&(_+=g),E=0;else{if(0>_){d!=e.BEFORE&&(d=e.BEFORE,n.computeWorldVerticesWith(o,2,4,f,0)),this.addBeforePosition(_,f,0,u,y);continue}if(_>g){d!=e.AFTER&&(d=e.AFTER,n.computeWorldVerticesWith(o,M-6,4,f,0)),this.addAfterPosition(_-g,f,0,u,y);continue}}for(;;E++){var x=v[E];if(!(_>x)){if(0==E)_/=x;else{var T=v[E-1];_=(_-T)/(x-T)}break}}E!=d&&(d=E,c&&E==p?(n.computeWorldVerticesWith(o,M-4,4,f,0),n.computeWorldVerticesWith(o,0,4,f,4)):n.computeWorldVerticesWith(o,6*E+2,8,f,0)),this.addCurvePosition(_,f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],u,y,i||m>0&&0==w)}return u}c?(M+=2,f=t.Utils.setArraySize(this.world,M),n.computeWorldVerticesWith(o,2,M-4,f,0),n.computeWorldVerticesWith(o,0,2,f,M-4),f[M-2]=f[0],f[M-1]=f[1]):(p--,M-=4,f=t.Utils.setArraySize(this.world,M),n.computeWorldVerticesWith(o,2,M,f,0));for(var b=t.Utils.setArraySize(this.curves,p),A=0,R=f[0],S=f[1],I=0,P=0,C=0,V=0,N=0,L=0,U=0,X=0,B=0,k=0,Y=0,O=0,F=0,D=0,m=0,W=2;p>m;m++,W+=6)I=f[W],P=f[W+1],C=f[W+2],V=f[W+3],N=f[W+4],L=f[W+5],U=.1875*(R-2*I+C),X=.1875*(S-2*P+V),B=.09375*(3*(I-C)-R+N),k=.09375*(3*(P-V)-S+L),Y=2*U+B,O=2*X+k,F=.75*(I-R)+U+.16666667*B,D=.75*(P-S)+X+.16666667*k,A+=Math.sqrt(F*F+D*D),F+=Y,D+=O,Y+=B,O+=k,A+=Math.sqrt(F*F+D*D),F+=Y,D+=O,A+=Math.sqrt(F*F+D*D),F+=Y+B,D+=O+k,A+=Math.sqrt(F*F+D*D),b[m]=A,R=N,S=L;if(a&&(h*=A),s)for(var m=0;r>m;m++)l[m]*=A;for(var G=this.segments,z=0,m=0,y=0,E=0,q=0;r>m;m++,y+=3){var w=l[m];h+=w;var _=h;if(c)_%=A,0>_&&(_+=A),E=0;else{if(0>_){this.addBeforePosition(_,f,0,u,y);continue}if(_>A){this.addAfterPosition(_-A,f,M-4,u,y);continue}}for(;;E++){var Z=b[E];if(!(_>Z)){if(0==E)_/=Z;else{var T=b[E-1];_=(_-T)/(Z-T)}break}}if(E!=d){d=E;var H=6*E;for(R=f[H],S=f[H+1],I=f[H+2],P=f[H+3],C=f[H+4],V=f[H+5],N=f[H+6],L=f[H+7],U=.03*(R-2*I+C),X=.03*(S-2*P+V),B=.006*(3*(I-C)-R+N),k=.006*(3*(P-V)-S+L),Y=2*U+B,O=2*X+k,F=.3*(I-R)+U+.16666667*B,D=.3*(P-S)+X+.16666667*k,z=Math.sqrt(F*F+D*D),G[0]=z,H=1;8>H;H++)F+=Y,D+=O,Y+=B,O+=k,z+=Math.sqrt(F*F+D*D),G[H]=z;F+=Y,D+=O,z+=Math.sqrt(F*F+D*D),G[8]=z,F+=Y+B,D+=O+k,z+=Math.sqrt(F*F+D*D),G[9]=z,q=0}for(_*=z;;q++){var j=G[q];if(!(_>j)){if(0==q)_/=j;else{var T=G[q-1];_=q+(_-T)/(j-T)}break}}this.addCurvePosition(.1*_,R,S,I,P,C,V,N,L,u,y,i||m>0&&0==w)}return u},e.prototype.addBeforePosition=function(t,e,n,r,i){var a=e[n],s=e[n+1],o=e[n+2]-a,h=e[n+3]-s,l=Math.atan2(h,o);r[i]=a+t*Math.cos(l),r[i+1]=s+t*Math.sin(l),r[i+2]=l},e.prototype.addAfterPosition=function(t,e,n,r,i){var a=e[n+2],s=e[n+3],o=a-e[n],h=s-e[n+1],l=Math.atan2(h,o);r[i]=a+t*Math.cos(l),r[i+1]=s+t*Math.sin(l),r[i+2]=l},e.prototype.addCurvePosition=function(t,e,n,r,i,a,s,o,h,l,u,f){0==t&&(t=1e-4);var c=t*t,M=c*t,p=1-t,d=p*p,v=d*p,g=p*t,m=3*g,y=p*m,E=m*t,w=e*v+r*y+a*E+o*M,_=n*v+i*y+s*E+h*M;l[u]=w,l[u+1]=_,f&&(l[u+2]=Math.atan2(_-(n*d+i*g*2+s*c),w-(e*d+r*g*2+a*c)))},e.NONE=-1,e.BEFORE=-2,e.AFTER=-3,e}();t.PathConstraint=e}(spine||(spine={}));var spine;!function(t){var e=function(){function t(t){this.bones=new Array,this.name=t}return t}();t.PathConstraintData=e,function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"}(t.PositionMode||(t.PositionMode={}));t.PositionMode;!function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"}(t.SpacingMode||(t.SpacingMode={}));t.SpacingMode;!function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"}(t.RotateMode||(t.RotateMode={}));t.RotateMode}(spine||(spine={}));var spine;!function(t){var e=function(){function e(e){if(this._updateCache=new Array,this.time=0,this.flipX=!1,this.flipY=!1,this.x=0,this.y=0,null==e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var r=e.bones[n],i=void 0;if(null==r.parent)i=new t.Bone(r,this,null);else{var a=this.bones[r.parent.index];i=new t.Bone(r,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(var n=0;n<e.slots.length;n++){var s=e.slots[n],i=this.bones[s.boneData.index],o=new t.Slot(s,i);this.slots.push(o),this.drawOrder.push(o)}this.ikConstraints=new Array,this.ikConstraintsSorted=new Array;for(var n=0;n<e.ikConstraints.length;n++){var h=e.ikConstraints[n];this.ikConstraints.push(new t.IkConstraint(h,this))}this.transformConstraints=new Array;for(var n=0;n<e.transformConstraints.length;n++){var l=e.transformConstraints[n];this.transformConstraints.push(new t.TransformConstraint(l,this))}this.pathConstraints=new Array;for(var n=0;n<e.pathConstraints.length;n++){var u=e.pathConstraints[n];this.pathConstraints.push(new t.PathConstraint(u,this))}this.color=new t.Color(1,1,1,1),this.updateCache()}return e.prototype.updateCache=function(){var e=this._updateCache;e.length=0;for(var n=this.bones,r=0,i=n.length;i>r;r++)n[r].sorted=!1;var a=this.ikConstraintsSorted;a.length=0;for(var r=0;r<this.ikConstraints.length;r++)a.push(this.ikConstraints[r]);for(var s=a.length,r=0,o=0,i=s;i>r;r++){var h=a[r],l=h.bones[0].parent;for(o=0;null!=l;o++)l=l.parent;h.level=o}for(var r=1,u=0;s>r;r++){var h=a[r],o=h.level;for(u=r-1;u>=0;u--){var f=a[u];if(f.level<o)break;a[u+1]=f}a[u+1]=h}for(var r=0,i=a.length;i>r;r++){var c=a[r],M=c.target;this.sortBone(M);var p=c.bones,d=p[0];this.sortBone(d),e.push(c),this.sortReset(d.children),p[p.length-1].sorted=!0}for(var v=this.pathConstraints,r=0,i=v.length;i>r;r++){var c=v[r],g=c.target,m=g.data.index,y=g.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,m,y),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,m,y);for(var u=0,E=this.data.skins.length;E>u;u++)this.sortPathConstraintAttachment(this.data.skins[u],m,y);var w=g.getAttachment();w instanceof t.PathAttachment&&this.sortPathConstraintAttachmentWith(w,y);for(var p=c.bones,_=p.length,u=0;_>u;u++)this.sortBone(p[u]);e.push(c);for(var u=0;_>u;u++)this.sortReset(p[u].children);for(var u=0;_>u;u++)p[u].sorted=!0}for(var x=this.transformConstraints,r=0,i=x.length;i>r;r++){var c=x[r];this.sortBone(c.target);for(var p=c.bones,_=p.length,u=0;_>u;u++)this.sortBone(p[u]);e.push(c);for(var u=0;_>u;u++)this.sortReset(p[u].children);for(var u=0;_>u;u++)p[u].sorted=!0}for(var r=0,i=n.length;i>r;r++)this.sortBone(n[r])},e.prototype.sortPathConstraintAttachment=function(t,e,n){var r=t.attachments[e];if(r)for(var i in r)this.sortPathConstraintAttachmentWith(r[i],n)},e.prototype.sortPathConstraintAttachmentWith=function(e,n){if(e instanceof t.PathAttachment){var r=e.bones;if(null==r)this.sortBone(n);else for(var i=this.bones,a=0;a<r.length;a++){var s=r[a];this.sortBone(i[s])}}},e.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},e.prototype.sortReset=function(t){for(var e=0,n=t.length;n>e;e++){var r=t[e];r.sorted&&this.sortReset(r.children),r.sorted=!1}},e.prototype.updateWorldTransform=function(){for(var t=this._updateCache,e=0,n=t.length;n>e;e++)t[e].update()},e.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},e.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,n=t.length;n>e;e++)t[e].setToSetupPose();for(var r=this.ikConstraints,e=0,n=r.length;n>e;e++){var i=r[e];i.bendDirection=i.data.bendDirection,i.mix=i.data.mix}for(var a=this.transformConstraints,e=0,n=a.length;n>e;e++){var i=a[e],s=i.data;i.rotateMix=s.rotateMix,i.translateMix=s.translateMix,i.scaleMix=s.scaleMix,i.shearMix=s.shearMix}for(var o=this.pathConstraints,e=0,n=o.length;n>e;e++){var i=o[e],s=i.data;i.position=s.position,i.spacing=s.spacing,i.rotateMix=s.rotateMix,i.translateMix=s.translateMix}},e.prototype.setSlotsToSetupPose=function(){var e=this.slots;t.Utils.arrayCopy(e,0,this.drawOrder,0,e.length);for(var n=0,r=e.length;r>n;n++)e[n].setToSetupPose()},e.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},e.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;r>n;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;r>n;n++)if(e[n].data.name==t)return n;return-1},e.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;r>n;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;r>n;n++)if(e[n].data.name==t)return n;return-1},e.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},e.prototype.setSkin=function(t){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,r=e.length;r>n;n++){var i=e[n],a=i.data.name;if(null!=a){var s=t.getAttachment(n,a);null!=s&&i.setAttachment(s)}}this.skin=t},e.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},e.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(t,e);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},e.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var n=this.slots,r=0,i=n.length;i>r;r++){var a=n[r];if(a.data.name==t){var s=null;if(null!=e&&(s=this.getAttachment(r,e),null==s))throw new Error("Attachment not found: "+e+", for slot: "+t);return a.setAttachment(s),void 0}}throw new Error("Slot not found: "+t)},e.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;r>n;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;r>n;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;r>n;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.getBounds=function(e,n){if(null==e)throw new Error("offset cannot be null.");if(null==n)throw new Error("size cannot be null.");for(var r=this.drawOrder,i=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,h=0,l=r.length;l>h;h++){var u=r[h],f=null,c=u.getAttachment();if(c instanceof t.RegionAttachment?f=c.updateWorldVertices(u,!1):c instanceof t.MeshAttachment&&(f=c.updateWorldVertices(u,!0)),null!=f)for(var M=0,p=f.length;p>M;M+=5){var d=f[M],v=f[M+1];i=Math.min(i,d),a=Math.min(a,v),s=Math.max(s,d),o=Math.max(o,v)}}e.set(i,a),n.set(s-i,o-a)},e.prototype.update=function(t){this.time+=t},e}();t.Skeleton=e}(spine||(spine={}));var spine;!function(t){var e=function(){function e(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this._polygonPool=new t.Pool(function(){return t.Utils.newFloatArray(16)})}return e.prototype.update=function(e,n){if(null==e)throw new Error("skeleton cannot be null.");var r=this.boundingBoxes,i=this.polygons,a=this._polygonPool,s=e.slots,o=s.length;r.length=0,a.freeAll(i),i.length=0;for(var h=0;o>h;h++){var l=s[h],u=l.getAttachment();if(u instanceof t.BoundingBoxAttachment){var f=u;r.push(f);var c=a.obtain();c.length!=f.worldVerticesLength&&(c=t.Utils.newFloatArray(f.worldVerticesLength)),i.push(c),f.computeWorldVertices(l,c)}}n&&this.aabbCompute()},e.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,i=this.polygons,a=0,s=i.length;s>a;a++)for(var o=i[a],h=o,l=0,u=o.length;u>l;l+=2){var f=h[l],c=h[l+1];t=Math.min(t,f),e=Math.min(e,c),n=Math.max(n,f),r=Math.max(r,c)}this.minX=t,this.minY=e,this.maxX=n,this.maxY=r},e.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},e.prototype.aabbIntersectsSegment=function(t,e,n,r){var i=this.minX,a=this.minY,s=this.maxX,o=this.maxY;if(i>=t&&i>=n||a>=e&&a>=r||t>=s&&n>=s||e>=o&&r>=o)return!1;var h=(r-e)/(n-t),l=h*(i-t)+e;if(l>a&&o>l)return!0;if(l=h*(s-t)+e,l>a&&o>l)return!0;var u=(a-e)/h+t;return u>i&&s>u?!0:(u=(o-e)/h+t,u>i&&s>u?!0:!1)},e.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},e.prototype.containsPoint=function(t,e){for(var n=this.polygons,r=0,i=n.length;i>r;r++)if(this.containsPointPolygon(n[r],t,e))return this.boundingBoxes[r];return null},e.prototype.containsPointPolygon=function(t,e,n){for(var r=t,i=t.length,a=i-2,s=!1,o=0;i>o;o+=2){var h=r[o+1],l=r[a+1];if(n>h&&l>=n||n>l&&h>=n){var u=r[o];u+(n-h)/(l-h)*(r[a]-u)<e&&(s=!s)}a=o}return s},e.prototype.intersectsSegment=function(t,e,n,r){for(var i=this.polygons,a=0,s=i.length;s>a;a++)if(this.intersectsSegmentPolygon(i[a],t,e,n,r))return this.boundingBoxes[a];return null},e.prototype.intersectsSegmentPolygon=function(t,e,n,r,i){for(var a=t,s=t.length,o=e-r,h=n-i,l=e*i-n*r,u=a[s-2],f=a[s-1],c=0;s>c;c+=2){var M=a[c],p=a[c+1],d=u*p-f*M,v=u-M,g=f-p,m=o*g-h*v,y=(l*v-o*d)/m;if((y>=u&&M>=y||y>=M&&u>=y)&&(y>=e&&r>=y||y>=r&&e>=y)){var E=(l*g-h*d)/m;if((E>=f&&p>=E||E>=p&&f>=E)&&(E>=n&&i>=E||E>=i&&n>=E))return!0}u=M,f=p}return!1},e.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},e}();t.SkeletonBounds=e}(spine||(spine={}));var spine;!function(t){var e=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array}return t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;r>n;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;r>n;n++)if(e[n].name==t)return n;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;r>n;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;r>n;n++)if(e[n].name==t)return n;return-1},t.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,r=e.length;r>n;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,r=e.length;r>n;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,r=e.length;r>n;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;r>n;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;r>n;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;r>n;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;r>n;n++)if(e[n].name==t)return n;return-1},t}();t.SkeletonData=e}(spine||(spine={}));var spine;!function(t){var e=function(){function e(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return e.prototype.readSkeletonData=function(n){var r=this.scale,i=new t.SkeletonData,a=JSON.parse(n),s=a.skeleton;if(null!=s&&(i.hash=s.hash,i.version=s.spine,i.width=s.width,i.height=s.height,i.imagesPath=s.images),a.bones)for(var o=0;o<a.bones.length;o++){var h=a.bones[o],l=null,u=this.getValue(h,"parent",null);if(null!=u&&(l=i.findBone(u),null==l))throw new Error("Parent bone not found: "+u);var f=new t.BoneData(i.bones.length,h.name,l);f.length=this.getValue(h,"length",0)*r,f.x=this.getValue(h,"x",0)*r,f.y=this.getValue(h,"y",0)*r,f.rotation=this.getValue(h,"rotation",0),f.scaleX=this.getValue(h,"scaleX",1),f.scaleY=this.getValue(h,"scaleY",1),f.shearX=this.getValue(h,"shearX",0),f.shearY=this.getValue(h,"shearY",0),f.inheritRotation=this.getValue(h,"inheritRotation",!0),f.inheritScale=this.getValue(h,"inheritScale",!0),i.bones.push(f)}if(a.slots)for(var o=0;o<a.slots.length;o++){var c=a.slots[o],M=c.name,p=c.bone,d=i.findBone(p);if(null==d)throw new Error("Slot bone not found: "+p);var f=new t.SlotData(i.slots.length,M,d),v=c.color?c.color:null;null!=v&&f.color.setFromString(v),f.attachmentName=this.getValue(c,"attachment",null),f.blendMode=e.blendModeFromString(this.getValue(c,"blend","normal")),i.slots.push(f)}if(a.ik)for(var o=0;o<a.ik.length;o++){for(var g=a.ik[o],f=new t.IkConstraintData(g.name),m=0;m<g.bones.length;m++){var p=g.bones[m],y=i.findBone(p);if(null==y)throw new Error("IK bone not found: "+p);f.bones.push(y)}var E=g.target;if(f.target=i.findBone(E),null==f.target)throw new Error("IK target bone not found: "+E);f.bendDirection=this.getValue(g,"bendPositive",!0)?1:-1,f.mix=g.mix?g.mix:1,i.ikConstraints.push(f)}if(a.transform)for(var o=0;o<a.transform.length;o++){for(var g=a.transform[o],f=new t.TransformConstraintData(g.name),m=0;m<g.bones.length;m++){var p=g.bones[m],y=i.findBone(p);if(null==y)throw new Error("Transform constraint bone not found: "+p);f.bones.push(y)}var E=g.target;if(f.target=i.findBone(E),null==f.target)throw new Error("Transform constraint target bone not found: "+E);f.offsetRotation=this.getValue(g,"rotation",0),f.offsetX=this.getValue(g,"x",0)*r,f.offsetY=this.getValue(g,"y",0)*r,f.offsetScaleX=this.getValue(g,"scaleX",0),f.offsetScaleY=this.getValue(g,"scaleY",0),f.offsetShearY=this.getValue(g,"shearY",0),f.rotateMix=this.getValue(g,"rotateMix",1),f.translateMix=this.getValue(g,"translateMix",1),f.scaleMix=this.getValue(g,"scaleMix",1),f.shearMix=this.getValue(g,"shearMix",1),i.transformConstraints.push(f)}if(a.path)for(var o=0;o<a.path.length;o++){for(var g=a.path[o],f=new t.PathConstraintData(g.name),m=0;m<g.bones.length;m++){var p=g.bones[m],y=i.findBone(p);if(null==y)throw new Error("Transform constraint bone not found: "+p);f.bones.push(y)}var E=g.target;if(f.target=i.findSlot(E),null==f.target)throw new Error("Path target slot not found: "+E);f.positionMode=e.positionModeFromString(this.getValue(g,"positionMode","percent")),f.spacingMode=e.spacingModeFromString(this.getValue(g,"spacingMode","length")),f.rotateMode=e.rotateModeFromString(this.getValue(g,"rotateMode","tangent")),f.offsetRotation=this.getValue(g,"rotation",0),f.position=this.getValue(g,"position",0),f.positionMode==t.PositionMode.Fixed&&(f.position*=r),f.spacing=this.getValue(g,"spacing",0),(f.spacingMode==t.SpacingMode.Length||f.spacingMode==t.SpacingMode.Fixed)&&(f.spacing*=r),f.rotateMix=this.getValue(g,"rotateMix",1),f.translateMix=this.getValue(g,"translateMix",1),i.pathConstraints.push(f)}if(a.skins)for(var w in a.skins){var _=a.skins[w],x=new t.Skin(w);for(var M in _){var T=i.findSlotIndex(M);if(-1==T)throw new Error("Slot not found: "+M);var c=_[M];for(var b in c){var A=this.readAttachment(c[b],x,T,b);null!=A&&x.addAttachment(T,b,A)}}i.skins.push(x),"default"==x.name&&(i.defaultSkin=x)}for(var o=0,R=this.linkedMeshes.length;R>o;o++){var S=this.linkedMeshes[o],x=null==S.skin?i.defaultSkin:i.findSkin(S.skin);if(null==x)throw new Error("Skin not found: "+S.skin);var I=x.getAttachment(S.slotIndex,S.parent);if(null==I)throw new Error("Parent mesh not found: "+S.parent);S.mesh.setParentMesh(I),S.mesh.updateUVs()}if(this.linkedMeshes.length=0,a.events)for(var P in a.events){var C=a.events[P],f=new t.EventData(P);f.intValue=this.getValue(C,"int",0),f.floatValue=this.getValue(C,"float",0),f.stringValue=this.getValue(C,"string",null),i.events.push(f)}if(a.animations)for(var V in a.animations){var N=a.animations[V];this.readAnimation(N,V,i)}return i},e.prototype.readAttachment=function(e,r,i,a){var s=this.scale;a=this.getValue(e,"name",a);var o=this.getValue(e,"type","region");switch(o){case"region":var h=this.getValue(e,"path",a),l=this.attachmentLoader.newRegionAttachment(r,a,h);if(null==l)return null;l.path=h,l.x=this.getValue(e,"x",0)*s,l.y=this.getValue(e,"y",0)*s,l.scaleX=this.getValue(e,"scaleX",1),l.scaleY=this.getValue(e,"scaleY",1),l.rotation=this.getValue(e,"rotation",0),l.width=e.width*s,l.height=e.height*s;var u=this.getValue(e,"color",null);return null!=u&&l.color.setFromString(u),l.updateOffset(),l;case"boundingbox":var f=this.attachmentLoader.newBoundingBoxAttachment(r,a);return null==f?null:(this.readVertices(e,f,e.vertexCount<<1),f);case"mesh":case"skinnedmesh":var h=this.getValue(e,"path",a),c=this.attachmentLoader.newMeshAttachment(r,a,h);if(null==c)return null;c.path=h;var u=this.getValue(e,"color",null);null!=u&&c.color.setFromString(u);var M=this.getValue(e,"parent",null);if(null!=M)return c.inheritDeform=this.getValue(e,"deform",!0),this.linkedMeshes.push(new n(c,this.getValue(e,"skin",null),i,M)),c;var p=e.uvs;return this.readVertices(e,c,p.length),c.triangles=e.triangles,c.regionUVs=p,c.updateUVs(),c.hullLength=2*this.getValue(e,"hull",0),c;case"path":var h=this.attachmentLoader.newPathAttachment(r,a);if(null==h)return null;h.closed=this.getValue(e,"closed",!1),h.constantSpeed=this.getValue(e,"constantSpeed",!0);var d=e.vertexCount;this.readVertices(e,h,d<<1);for(var v=t.Utils.newArray(d/3,0),g=0;g<e.lengths.length;g++)v[g++]=e.lengths[g]*s;return h.lengths=v,h}return null},e.prototype.readVertices=function(e,n,r){var i=this.scale;n.worldVerticesLength=r;var a=e.vertices;if(r==a.length){if(1!=i)for(var s=0,o=a.length;o>s;s++)a[s]*=i;return n.vertices=t.Utils.toFloatArray(a),void 0}for(var h=new Array,l=new Array,s=0,o=a.length;o>s;){var u=a[s++];l.push(u);for(var f=s+4*u;f>s;s+=4)l.push(a[s]),h.push(a[s+1]*i),h.push(a[s+2]*i),h.push(a[s+3])}n.bones=l,n.vertices=t.Utils.toFloatArray(h)},e.prototype.readAnimation=function(e,n,r){var i=this.scale,a=new Array,s=0;if(e.slots)for(var o in e.slots){var h=e.slots[o],l=r.findSlotIndex(o);if(-1==l)throw new Error("Slot not found: "+o);for(var u in h){var f=h[u];if("color"==u){var c=new t.ColorTimeline(f.length);c.slotIndex=l;for(var M=0,p=0;p<f.length;p++){var d=f[p],v=new t.Color;v.setFromString(d.color),c.setFrame(M,d.time,v.r,v.g,v.b,v.a),this.readCurve(d,c,M),M++}a.push(c),s=Math.max(s,c.frames[(c.getFrameCount()-1)*t.ColorTimeline.ENTRIES])}else{if(!(u="attachment"))throw new Error("Invalid timeline type for a slot: "+u+" ("+o+")");var c=new t.AttachmentTimeline(f.length);c.slotIndex=l;for(var M=0,p=0;p<f.length;p++){var d=f[p];c.setFrame(M++,d.time,d.name)}a.push(c),s=Math.max(s,c.frames[c.getFrameCount()-1])}}}if(e.bones)for(var g in e.bones){var m=e.bones[g],y=r.findBoneIndex(g);if(-1==y)throw new Error("Bone not found: "+g);for(var u in m){var f=m[u];if("rotate"===u){var c=new t.RotateTimeline(f.length);c.boneIndex=y;for(var M=0,p=0;p<f.length;p++){var d=f[p];c.setFrame(M,d.time,d.angle),this.readCurve(d,c,M),M++}a.push(c),s=Math.max(s,c.frames[(c.getFrameCount()-1)*t.RotateTimeline.ENTRIES])}else{if("translate"!==u&&"scale"!==u&&"shear"!==u)throw new Error("Invalid timeline type for a bone: "+u+" ("+g+")");var c=null,E=1;"scale"===u?c=new t.ScaleTimeline(f.length):"shear"===u?c=new t.ShearTimeline(f.length):(c=new t.TranslateTimeline(f.length),E=i),c.boneIndex=y;for(var M=0,p=0;p<f.length;p++){var d=f[p],w=this.getValue(d,"x",0),_=this.getValue(d,"y",0);c.setFrame(M,d.time,w*E,_*E),this.readCurve(d,c,M),M++}a.push(c),s=Math.max(s,c.frames[(c.getFrameCount()-1)*t.TranslateTimeline.ENTRIES])}}}if(e.ik)for(var x in e.ik){var T=e.ik[x],b=r.findIkConstraint(x),c=new t.IkConstraintTimeline(T.length);c.ikConstraintIndex=r.ikConstraints.indexOf(b);for(var M=0,p=0;p<T.length;p++){var d=T[p];c.setFrame(M,d.time,this.getValue(d,"mix",1),this.getValue(d,"bendPositive",!0)?1:-1),this.readCurve(d,c,M),M++}a.push(c),s=Math.max(s,c.frames[(c.getFrameCount()-1)*t.IkConstraintTimeline.ENTRIES])}if(e.transform)for(var x in e.transform){var T=e.transform[x],b=r.findTransformConstraint(x),c=new t.TransformConstraintTimeline(T.length);c.transformConstraintIndex=r.transformConstraints.indexOf(b);for(var M=0,p=0;p<T.length;p++){var d=T[p];c.setFrame(M,d.time,this.getValue(d,"rotateMix",1),this.getValue(d,"translateMix",1),this.getValue(d,"scaleMix",1),this.getValue(d,"shearMix",1)),this.readCurve(d,c,M),M++}a.push(c),s=Math.max(s,c.frames[(c.getFrameCount()-1)*t.TransformConstraintTimeline.ENTRIES])}if(e.paths)for(var x in e.paths){var T=e.paths[x],A=r.findPathConstraintIndex(x);if(-1==A)throw new Error("Path constraint not found: "+x);var R=r.pathConstraints[A];for(var u in T){var f=T[u];if("position"===u||"spacing"===u){var c=null,E=1;"spacing"===u?(c=new t.PathConstraintSpacingTimeline(f.length),(R.spacingMode==t.SpacingMode.Length||R.spacingMode==t.SpacingMode.Fixed)&&(E=i)):(c=new t.PathConstraintPositionTimeline(f.length),R.positionMode==t.PositionMode.Fixed&&(E=i)),c.pathConstraintIndex=A;for(var M=0,p=0;p<f.length;p++){var d=f[p];c.setFrame(M,d.time,this.getValue(d,u,0)*E),this.readCurve(d,c,M),M++}a.push(c),s=Math.max(s,c.frames[(c.getFrameCount()-1)*t.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===u){var c=new t.PathConstraintMixTimeline(f.length);c.pathConstraintIndex=A;for(var M=0,p=0;p<f.length;p++){var d=f[p];c.setFrame(M,d.time,this.getValue(d,"rotateMix",1),this.getValue(d,"translateMix",1)),this.readCurve(d,c,M),M++}a.push(c),s=Math.max(s,c.frames[(c.getFrameCount()-1)*t.PathConstraintMixTimeline.ENTRIES])}}}if(e.deform)for(var S in e.deform){var I=e.deform[S],P=r.findSkin(S);if(null==P)throw new Error("Skin not found: "+S);for(var o in I){var h=I[o],l=r.findSlotIndex(o);if(-1==l)throw new Error("Slot not found: "+h.name);for(var u in h){var f=h[u],C=P.getAttachment(l,u);if(null==C)throw new Error("Deform attachment not found: "+f.name);var V=null!=C.bones,N=C.vertices,L=V?N.length/3*2:N.length,c=new t.DeformTimeline(f.length);c.slotIndex=l,c.attachment=C;for(var M=0,U=0;U<f.length;U++){var d=f[U],X=void 0,B=this.getValue(d,"vertices",null);if(null==B)X=V?t.Utils.newFloatArray(L):N;else{X=t.Utils.newFloatArray(L);var k=this.getValue(d,"offset",0);if(t.Utils.arrayCopy(B,0,X,k,B.length),1!=i)for(var p=k,Y=p+B.length;Y>p;p++)X[p]*=i;if(!V)for(var p=0;L>p;p++)X[p]+=N[p]}c.setFrame(M,d.time,X),this.readCurve(d,c,M),M++}a.push(c),s=Math.max(s,c.frames[c.getFrameCount()-1])}}}var O=e.drawOrder;if(null==O&&(O=e.draworder),null!=O){for(var c=new t.DrawOrderTimeline(O.length),F=r.slots.length,M=0,U=0;U<O.length;U++){var D=O[U],W=null,G=this.getValue(D,"offsets",null);if(null!=G){W=t.Utils.newArray(F,-1);for(var z=t.Utils.newArray(F-G.length,0),q=0,Z=0,p=0;p<G.length;p++){var H=G[p],l=r.findSlotIndex(H.slot);if(-1==l)throw new Error("Slot not found: "+H.slot);for(;q!=l;)z[Z++]=q++;W[q+H.offset]=q++}for(;F>q;)z[Z++]=q++;for(var p=F-1;p>=0;p--)-1==W[p]&&(W[p]=z[--Z])}c.setFrame(M++,D.time,W)}a.push(c),s=Math.max(s,c.frames[c.getFrameCount()-1])}if(e.events){for(var c=new t.EventTimeline(e.events.length),M=0,p=0;p<e.events.length;p++){var j=e.events[p],Q=r.findEvent(j.name);if(null==Q)throw new Error("Event not found: "+j.name);var K=new t.Event(j.time,Q);K.intValue=this.getValue(j,"int",Q.intValue),K.floatValue=this.getValue(j,"float",Q.floatValue),K.stringValue=this.getValue(j,"string",Q.stringValue),c.setFrame(M++,K)}a.push(c),s=Math.max(s,c.frames[c.getFrameCount()-1])}if(isNaN(s))throw new Error("Error while parsing animation, duration is NaN");r.animations.push(new t.Animation(n,a,s))},e.prototype.readCurve=function(t,e,n){if(t.curve)if("stepped"===t.curve)e.setStepped(n);else if("[object Array]"===Object.prototype.toString.call(t.curve)){var r=t.curve;e.setCurve(n,r[0],r[1],r[2],r[3])}},e.prototype.getValue=function(t,e,n){return void 0!==t[e]?t[e]:n},e.blendModeFromString=function(e){if(e=e.toLowerCase(),"normal"==e)return t.BlendMode.Normal;
if("additive"==e)return t.BlendMode.Additive;if("multiply"==e)return t.BlendMode.Multiply;if("screen"==e)return t.BlendMode.Screen;throw new Error("Unknown blend mode: "+e)},e.positionModeFromString=function(e){if(e=e.toLowerCase(),"fixed"==e)return t.PositionMode.Fixed;if("percent"==e)return t.PositionMode.Percent;throw new Error("Unknown position mode: "+e)},e.spacingModeFromString=function(e){if(e=e.toLowerCase(),"length"==e)return t.SpacingMode.Length;if("fixed"==e)return t.SpacingMode.Fixed;if("percent"==e)return t.SpacingMode.Percent;throw new Error("Unknown position mode: "+e)},e.rotateModeFromString=function(e){if(e=e.toLowerCase(),"tangent"==e)return t.RotateMode.Tangent;if("chain"==e)return t.RotateMode.Chain;if("chainscale"==e)return t.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+e)},e}();t.SkeletonJson=e;var n=function(){function t(t,e,n,r){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=r}return t}()}(spine||(spine={}));var spine;!function(t){var e=function(){function t(t){if(this.attachments=new Array,null==t)throw new Error("name cannot be null.");this.name=t}return t.prototype.addAttachment=function(t,e,n){if(null==n)throw new Error("attachment cannot be null.");var r=this.attachments;t>=r.length&&(r.length=t+1),r[t]||(r[t]={}),r[t][e]=n},t.prototype.getAttachment=function(t,e){var n=this.attachments[t];return n?n[e]:null},t.prototype.attachAll=function(t,e){for(var n=0,r=0;r<t.slots.length;r++){var i=t.slots[r],a=i.getAttachment();if(a&&n<e.attachments.length){var s=e.attachments[n];for(var o in s){var h=s[o];if(a==h){var l=this.getAttachment(n,name);null!=l&&i.setAttachment(l);break}}}n++}},t}();t.Skin=e}(spine||(spine={}));var spine;!function(t){var e=function(){function e(e,n){if(this.attachmentVertices=new Array,null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("bone cannot be null.");this.data=e,this.bone=n,this.color=new t.Color,this.setToSetupPose()}return e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},e.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},e.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},e}();t.Slot=e}(spine||(spine={}));var spine;!function(t){var e=function(){function e(e,n,r){if(this.color=new t.Color(1,1,1,1),0>e)throw new Error("index must be >= 0.");if(null==n)throw new Error("name cannot be null.");if(null==r)throw new Error("boneData cannot be null.");this.index=e,this.name=n,this.boneData=r}return e}();t.SlotData=e}(spine||(spine={}));var spine;!function(t){var e=function(){function e(t,e){this.pages=new Array,this.regions=new Array,this.load(t,e)}return e.prototype.load=function(e,a){if(null==a)throw new Error("textureLoader cannot be null.");for(var s=new n(e),o=new Array(4),h=null;;){var l=s.readLine();if(null==l)break;if(l=l.trim(),0==l.length)h=null;else if(h){var u=new i;u.name=l,u.page=h,u.rotate="true"==s.readValue(),s.readTuple(o);var f=parseInt(o[0]),c=parseInt(o[1]);s.readTuple(o);var M=parseInt(o[0]),p=parseInt(o[1]);u.u=f/h.width,u.v=c/h.height,u.rotate?(u.u2=(f+p)/h.width,u.v2=(c+M)/h.height):(u.u2=(f+M)/h.width,u.v2=(c+p)/h.height),u.x=f,u.y=c,u.width=Math.abs(M),u.height=Math.abs(p),4==s.readTuple(o)&&4==s.readTuple(o)&&s.readTuple(o),u.originalWidth=parseInt(o[0]),u.originalHeight=parseInt(o[1]),s.readTuple(o),u.offsetX=parseInt(o[0]),u.offsetY=parseInt(o[1]),u.index=parseInt(s.readValue()),u.texture=h.texture,this.regions.push(u)}else{h=new r,h.name=l,2==s.readTuple(o)&&(h.width=parseInt(o[0]),h.height=parseInt(o[1]),s.readTuple(o)),s.readTuple(o),h.minFilter=t.Texture.filterFromString(o[0]),h.magFilter=t.Texture.filterFromString(o[1]);var d=s.readValue();h.uWrap=t.TextureWrap.ClampToEdge,h.vWrap=t.TextureWrap.ClampToEdge,"x"==d?h.uWrap=t.TextureWrap.Repeat:"y"==d?h.vWrap=t.TextureWrap.Repeat:"xy"==d&&(h.uWrap=h.vWrap=t.TextureWrap.Repeat),h.texture=a(l),h.texture.setFilters(h.minFilter,h.magFilter),h.texture.setWraps(h.uWrap,h.vWrap),h.width=h.texture.getImage().width,h.height=h.texture.getImage().height,this.pages.push(h)}}},e.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},e.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].texture.dispose()},e}();t.TextureAtlas=e;var n=function(){function t(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},t.prototype.readTuple=function(t){var e=this.readLine(),n=e.indexOf(":");if(-1==n)throw new Error("Invalid line: "+e);for(var r=0,i=n+1;3>r;r++){var a=e.indexOf(",",i);if(-1==a)break;t[r]=e.substr(i,a-i).trim(),i=a+1}return t[r]=e.substring(i).trim(),r+1},t}(),r=function(){function t(){}return t}();t.TextureAtlasPage=r;var i=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e}(t.TextureRegion);t.TextureAtlasRegion=i}(spine||(spine={}));var spine;!function(t){var e=function(){function e(t){this.atlas=t}return e.prototype.newRegionAttachment=function(e,n,r){var i=this.atlas.findRegion(r);if(i.renderObject=i,null==i)throw new Error("Region not found in atlas: "+r+" (region attachment: "+n+")");var a=new t.RegionAttachment(n);return a.setRegion(i),a.region=i,a},e.prototype.newMeshAttachment=function(e,n,r){var i=this.atlas.findRegion(r);if(i.renderObject=i,null==i)throw new Error("Region not found in atlas: "+r+" (mesh attachment: "+n+")");var a=new t.MeshAttachment(n);return a.region=i,a},e.prototype.newBoundingBoxAttachment=function(e,n){return new t.BoundingBoxAttachment(n)},e.prototype.newPathAttachment=function(e,n){return new t.PathAttachment(n)},e}();t.TextureAtlasAttachmentLoader=e}(spine||(spine={}));var spine;!function(t){var e=function(){function e(e,n){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new t.Vector2,null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var r=0;r<e.bones.length;r++)this.bones.push(n.findBone(e.bones[r].name));this.target=n.findBone(e.target.name)}return e.prototype.apply=function(){this.update()},e.prototype.update=function(){for(var e=this.rotateMix,n=this.translateMix,r=this.scaleMix,i=this.shearMix,a=this.target,s=a.a,o=a.b,h=a.c,l=a.d,u=this.bones,f=0,c=u.length;c>f;f++){var M=u[f];if(e>0){var p=M.a,d=M.b,v=M.c,g=M.d,m=Math.atan2(h,s)-Math.atan2(v,p)+this.data.offsetRotation*t.MathUtils.degRad;m>t.MathUtils.PI?m-=t.MathUtils.PI2:m<-t.MathUtils.PI&&(m+=t.MathUtils.PI2),m*=e;var y=Math.cos(m),E=Math.sin(m);M.a=y*p-E*v,M.b=y*d-E*g,M.c=E*p+y*v,M.d=E*d+y*g}if(n>0){var w=this.temp;a.localToWorld(w.set(this.data.offsetX,this.data.offsetY)),M.worldX+=(w.x-M.worldX)*n,M.worldY+=(w.y-M.worldY)*n}if(r>0){var _=Math.sqrt(M.a*M.a+M.c*M.c),x=Math.sqrt(s*s+h*h),T=_>1e-5?(_+(x-_+this.data.offsetScaleX)*r)/_:0;M.a*=T,M.c*=T,_=Math.sqrt(M.b*M.b+M.d*M.d),x=Math.sqrt(o*o+l*l),T=_>1e-5?(_+(x-_+this.data.offsetScaleY)*r)/_:0,M.b*=T,M.d*=T}if(i>0){var d=M.b,g=M.d,b=Math.atan2(g,d),m=Math.atan2(l,o)-Math.atan2(h,s)-(b-Math.atan2(M.c,M.a));m>t.MathUtils.PI?m-=t.MathUtils.PI2:m<-t.MathUtils.PI&&(m+=t.MathUtils.PI2),m=b+(m+this.data.offsetShearY*t.MathUtils.degRad)*i;var T=Math.sqrt(d*d+g*g);M.b=Math.cos(m)*T,M.d=Math.sin(m)*T}}},e}();t.TransformConstraint=e}(spine||(spine={}));var spine;!function(t){var e=function(){function t(t){if(this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,null==t)throw new Error("name cannot be null.");this.name=t}return t}();t.TransformConstraintData=e}(spine||(spine={}));var spine;!function(t){var e=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.r=t,this.g=e,this.b=n,this.a=r}return t.prototype.set=function(t,e,n,r){this.r=t,this.g=e,this.b=n,this.a=r,this.clamp()},t.prototype.setFromColor=function(t){this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a},t.prototype.setFromString=function(t){t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255},t.prototype.add=function(t,e,n,r){this.r+=t,this.g+=e,this.b+=n,this.a+=r,this.clamp()},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t}();t.Color=e;var n=function(){function t(){}return t.clamp=function(t,e,n){return e>t?e:t>n?n:t},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(t){return t>=0?1:-1},t.toInt=function(t){return t>0?Math.floor(t):Math.ceil(t)},t.PI=3.1415927,t.PI2=2*t.PI,t.radiansToDegrees=180/t.PI,t.radDeg=t.radiansToDegrees,t.degreesToRadians=t.PI/180,t.degRad=t.degreesToRadians,t}();t.MathUtils=n;var r=function(){function t(){}return t.arrayCopy=function(t,e,n,r,i){for(var a=e,s=r;e+i>a;a++,s++)n[s]=t[a]},t.setArraySize=function(t,e,n){void 0===n&&(n=0);var r=t.length;if(r==e)return t;if(t.length=e,e>r)for(var i=r;e>i;i++)t[i]=n;return t},t.newArray=function(t,e){for(var n=new Array(t),r=0;t>r;r++)n[r]=e;return n},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var n=new Array(e),r=0;r<n.length;r++)n[r]=0;return n},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,t}();t.Utils=r;var i=function(){function t(t){this._items=new Array(16),this._instantiator=t}return t.prototype.obtain=function(){return this._items.length>0?this._items.pop():this._instantiator()},t.prototype.free=function(t){this._items.push(t)},t.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)this._items[e]=t[e]},t.prototype.clear=function(){this._items.length=0},t}();t.Pool=i;var a=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t}();t.Vector2=a}(spine||(spine={}));var spine;!function(t){var e=function(){function t(t){if(null==t)throw new Error("name cannot be null.");this.name=t}return t}();t.Attachment=e;var n=function(t){function e(e){t.call(this,e),this.worldVerticesLength=0}return __extends(e,t),e.prototype.computeWorldVertices=function(t,e){this.computeWorldVerticesWith(t,0,this.worldVerticesLength,e,0)},e.prototype.computeWorldVerticesWith=function(t,e,n,r,i){n+=i;var a=t.bone.skeleton,s=a.x,o=a.y,h=t.attachmentVertices,l=this.vertices,u=this.bones;if(null!=u){for(var f=0,c=0,M=0;e>M;M+=2){var p=u[f];f+=p+1,c+=p}var d=a.bones;if(0==h.length)for(var v=i,g=3*c;n>v;v+=2){var m=s,y=o,p=u[f++];for(p+=f;p>f;f++,g+=3){var E=d[u[f]],w=l[g],_=l[g+1],x=l[g+2];m+=(w*E.a+_*E.b+E.worldX)*x,y+=(w*E.c+_*E.d+E.worldY)*x}r[v]=m,r[v+1]=y}else for(var T=h,v=i,g=3*c,b=c<<1;n>v;v+=2){var m=s,y=o,p=u[f++];for(p+=f;p>f;f++,g+=3,b+=2){var E=d[u[f]],w=l[g]+T[b],_=l[g+1]+T[b+1],x=l[g+2];m+=(w*E.a+_*E.b+E.worldX)*x,y+=(w*E.c+_*E.d+E.worldY)*x}r[v]=m,r[v+1]=y}}else{h.length>0&&(l=h);var E=t.bone;s+=E.worldX,o+=E.worldY;for(var A=E.a,g=E.b,R=E.c,S=E.d,I=e,v=i;n>v;I+=2,v+=2){var w=l[I],_=l[I+1];r[v]=w*A+_*g+s,r[v+1]=w*R+_*S+o}}},e.prototype.applyDeform=function(t){return this==t},e}(e);t.VertexAttachment=n}(spine||(spine={}));var spine;!function(t){!function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path"}(t.AttachmentType||(t.AttachmentType={}));t.AttachmentType}(spine||(spine={}));var spine;!function(t){var e=function(t){function e(e){t.call(this,e)}return __extends(e,t),e}(t.VertexAttachment);t.BoundingBoxAttachment=e}(spine||(spine={}));var spine;!function(t){var e=function(e){function n(n){e.call(this,n),this.color=new t.Color(1,1,1,1),this.inheritDeform=!1,this.tempColor=new t.Color(0,0,0,0)}return __extends(n,e),n.prototype.updateUVs=function(){var e=this.regionUVs,n=e.length,r=8*(n>>1);(null==this.worldVertices||this.worldVertices.length!=r)&&(this.worldVertices=t.Utils.newFloatArray(r));var i=0,a=0,s=0,o=0;if(null==this.region?(i=a=0,s=o=1):(i=this.region.u,a=this.region.v,s=this.region.u2-i,o=this.region.v2-a),this.region.rotate)for(var h=0,l=6;n>h;h+=2,l+=8)this.worldVertices[l]=i+e[h+1]*s,this.worldVertices[l+1]=a+o-e[h]*o;else for(var h=0,l=6;n>h;h+=2,l+=8)this.worldVertices[l]=i+e[h]*s,this.worldVertices[l+1]=a+e[h+1]*o},n.prototype.updateWorldVertices=function(t,e){var n=t.bone.skeleton,r=n.color,i=t.color,a=this.color,s=r.a*i.a*a.a,o=e?s:1,h=this.tempColor;h.set(r.r*i.r*a.r*o,r.g*i.g*a.g*o,r.b*i.b*a.b*o,s);var l=n.x,u=n.y,f=t.attachmentVertices,c=this.vertices,M=this.worldVertices,p=this.bones;if(null==p){var d=c.length;f.length>0&&(c=f);var v=t.bone;l+=v.worldX,u+=v.worldY;for(var g=v.a,m=v.b,y=v.c,E=v.d,w=0,_=0;d>w;w+=2,_+=8){var x=c[w],T=c[w+1];M[_]=x*g+T*m+l,M[_+1]=x*y+T*E+u,M[_+2]=h.r,M[_+3]=h.g,M[_+4]=h.b,M[_+5]=h.a}return M}var b=n.bones;if(0==f.length)for(var _=0,w=0,m=0,A=p.length;A>w;_+=8){for(var R=l,S=u,I=p[w++]+w;I>w;w++,m+=3){var v=b[p[w]],x=c[m],T=c[m+1],P=c[m+2];R+=(x*v.a+T*v.b+v.worldX)*P,S+=(x*v.c+T*v.d+v.worldY)*P}M[_]=R,M[_+1]=S,M[_+2]=h.r,M[_+3]=h.g,M[_+4]=h.b,M[_+5]=h.a}else for(var C=f,_=0,w=0,m=0,V=0,A=p.length;A>w;_+=8){for(var R=l,S=u,I=p[w++]+w;I>w;w++,m+=3,V+=2){var v=b[p[w]],x=c[m]+C[V],T=c[m+1]+C[V+1],P=c[m+2];R+=(x*v.a+T*v.b+v.worldX)*P,S+=(x*v.c+T*v.d+v.worldY)*P}M[_]=R,M[_+1]=S,M[_+2]=h.r,M[_+3]=h.g,M[_+4]=h.b,M[_+5]=h.a}return M},n.prototype.applyDeform=function(t){return this==t||this.inheritDeform&&this._parentMesh==t},n.prototype.getParentMesh=function(){return this._parentMesh},n.prototype.setParentMesh=function(t){this._parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength)},n}(t.VertexAttachment);t.MeshAttachment=e}(spine||(spine={}));var spine;!function(t){var e=function(t){function e(e){t.call(this,e),this.closed=!1,this.constantSpeed=!1}return __extends(e,t),e}(t.VertexAttachment);t.PathAttachment=e}(spine||(spine={}));var spine;!function(t){var e=function(e){function n(n){e.call(this,n),this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.rotation=0,this.width=0,this.height=0,this.color=new t.Color(1,1,1,1),this.offset=t.Utils.newFloatArray(8),this.vertices=t.Utils.newFloatArray(32),this.tempColor=new t.Color(1,1,1,1)}return __extends(n,e),n.prototype.setRegion=function(t){var e=this.vertices;t.rotate?(e[n.U2]=t.u,e[n.V2]=t.v2,e[n.U3]=t.u,e[n.V3]=t.v,e[n.U4]=t.u2,e[n.V4]=t.v,e[n.U1]=t.u2,e[n.V1]=t.v2):(e[n.U1]=t.u,e[n.V1]=t.v2,e[n.U2]=t.u,e[n.V2]=t.v,e[n.U3]=t.u2,e[n.V3]=t.v,e[n.U4]=t.u2,e[n.V4]=t.v2)},n.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*t,i=-this.height/2*this.scaleY+this.region.offsetY*e,a=r+this.region.width*t,s=i+this.region.height*e,o=this.rotation*Math.PI/180,h=Math.cos(o),l=Math.sin(o),u=r*h+this.x,f=r*l,c=i*h+this.y,M=i*l,p=a*h+this.x,d=a*l,v=s*h+this.y,g=s*l,m=this.offset;m[n.OX1]=u-M,m[n.OY1]=c+f,m[n.OX2]=u-g,m[n.OY2]=v+f,m[n.OX3]=p-g,m[n.OY3]=v+d,m[n.OX4]=p-M,m[n.OY4]=c+d},n.prototype.updateWorldVertices=function(t,e){var r=t.bone.skeleton,i=r.color,a=t.color,s=this.color,o=i.a*a.a*s.a,h=e?o:1,l=this.tempColor;l.set(i.r*a.r*s.r*h,i.g*a.g*s.g*h,i.b*a.b*s.b*h,o);var u=this.vertices,f=this.offset,c=t.bone,M=r.x+c.worldX,p=r.y+c.worldY,d=c.a,v=c.b,g=c.c,m=c.d,y=0,E=0;return y=f[n.OX1],E=f[n.OY1],u[n.X1]=y*d+E*v+M,u[n.Y1]=y*g+E*m+p,u[n.C1R]=l.r,u[n.C1G]=l.g,u[n.C1B]=l.b,u[n.C1A]=l.a,y=f[n.OX2],E=f[n.OY2],u[n.X2]=y*d+E*v+M,u[n.Y2]=y*g+E*m+p,u[n.C2R]=l.r,u[n.C2G]=l.g,u[n.C2B]=l.b,u[n.C2A]=l.a,y=f[n.OX3],E=f[n.OY3],u[n.X3]=y*d+E*v+M,u[n.Y3]=y*g+E*m+p,u[n.C3R]=l.r,u[n.C3G]=l.g,u[n.C3B]=l.b,u[n.C3A]=l.a,y=f[n.OX4],E=f[n.OY4],u[n.X4]=y*d+E*v+M,u[n.Y4]=y*g+E*m+p,u[n.C4R]=l.r,u[n.C4G]=l.g,u[n.C4B]=l.b,u[n.C4A]=l.a,u},n.OX1=0,n.OY1=1,n.OX2=2,n.OY2=3,n.OX3=4,n.OY3=5,n.OX4=6,n.OY4=7,n.X1=0,n.Y1=1,n.C1R=2,n.C1G=3,n.C1B=4,n.C1A=5,n.U1=6,n.V1=7,n.X2=8,n.Y2=9,n.C2R=10,n.C2G=11,n.C2B=12,n.C2A=13,n.U2=14,n.V2=15,n.X3=16,n.Y3=17,n.C3R=18,n.C3G=19,n.C3B=20,n.C3A=21,n.U3=22,n.V3=23,n.X4=24,n.Y4=25,n.C4R=26,n.C4G=27,n.C4B=28,n.C4A=29,n.U4=30,n.V4=31,n}(t.Attachment);t.RegionAttachment=e}(spine||(spine={}));var spine;!function(t){var e;!function(e){var n=function(e){function n(n){e.call(this,function(e){return new t.webgl.GLTexture(n,e)})}return __extends(n,e),n}(t.AssetManager);e.AssetManager=n}(e=t.webgl||(t.webgl={}))}(spine||(spine={}));var spine;!function(t){var e;!function(e){var n=function(t){function e(e,n,r){void 0===r&&(r=!1),t.call(this,n),this._boundUnit=0,this._gl=e,this._texture=e.createTexture(),this.update(r)}return __extends(e,t),e.prototype.setFilters=function(t,e){var n=this._gl;this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e)},e.prototype.setWraps=function(t,e){var n=this._gl;this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e)},e.prototype.update=function(t){var e=this._gl;this.bind(),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this._image),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t&&e.generateMipmap(e.TEXTURE_2D)},e.prototype.bind=function(t){void 0===t&&(t=0);var e=this._gl;this._boundUnit=t,e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this._texture)},e.prototype.unbind=function(){var t=this._gl;t.activeTexture(t.TEXTURE0+this._boundUnit),t.bindTexture(t.TEXTURE_2D,null)},e.prototype.dispose=function(){var t=this._gl;t.deleteTexture(this._texture)},e}(t.Texture);e.GLTexture=n}(e=t.webgl||(t.webgl={}))}(spine||(spine={}));var spine;!function(t){var e;!function(t){t.M00=0,t.M01=4,t.M02=8,t.M03=12,t.M10=1,t.M11=5,t.M12=9,t.M13=13,t.M20=2,t.M21=6,t.M22=10,t.M23=14,t.M30=3,t.M31=7,t.M32=11,t.M33=15;var e=function(){function e(){this.temp=new Float32Array(16),this.values=new Float32Array(16);var e=this.values;e[t.M00]=1,e[t.M11]=1,e[t.M22]=1,e[t.M33]=1}return e.prototype.set=function(t){return this.values.set(t),this},e.prototype.transpose=function(){var e=this.temp,n=this.values;return e[t.M00]=n[t.M00],e[t.M01]=n[t.M10],e[t.M02]=n[t.M20],e[t.M03]=n[t.M30],e[t.M10]=n[t.M01],e[t.M11]=n[t.M11],e[t.M12]=n[t.M21],e[t.M13]=n[t.M31],e[t.M20]=n[t.M02],e[t.M21]=n[t.M12],e[t.M22]=n[t.M22],e[t.M23]=n[t.M32],e[t.M30]=n[t.M03],e[t.M31]=n[t.M13],e[t.M32]=n[t.M23],e[t.M33]=n[t.M33],this.set(e)},e.prototype.identity=function(){var e=this.values;return e[t.M00]=1,e[t.M01]=0,e[t.M02]=0,e[t.M03]=0,e[t.M10]=0,e[t.M11]=1,e[t.M12]=0,e[t.M13]=0,e[t.M20]=0,e[t.M21]=0,e[t.M22]=1,e[t.M23]=0,e[t.M30]=0,e[t.M31]=0,e[t.M32]=0,e[t.M33]=1,this},e.prototype.invert=function(){var e=this.values,n=this.temp,r=e[t.M30]*e[t.M21]*e[t.M12]*e[t.M03]-e[t.M20]*e[t.M31]*e[t.M12]*e[t.M03]-e[t.M30]*e[t.M11]*e[t.M22]*e[t.M03]+e[t.M10]*e[t.M31]*e[t.M22]*e[t.M03]+e[t.M20]*e[t.M11]*e[t.M32]*e[t.M03]-e[t.M10]*e[t.M21]*e[t.M32]*e[t.M03]-e[t.M30]*e[t.M21]*e[t.M02]*e[t.M13]+e[t.M20]*e[t.M31]*e[t.M02]*e[t.M13]+e[t.M30]*e[t.M01]*e[t.M22]*e[t.M13]-e[t.M00]*e[t.M31]*e[t.M22]*e[t.M13]-e[t.M20]*e[t.M01]*e[t.M32]*e[t.M13]+e[t.M00]*e[t.M21]*e[t.M32]*e[t.M13]+e[t.M30]*e[t.M11]*e[t.M02]*e[t.M23]-e[t.M10]*e[t.M31]*e[t.M02]*e[t.M23]-e[t.M30]*e[t.M01]*e[t.M12]*e[t.M23]+e[t.M00]*e[t.M31]*e[t.M12]*e[t.M23]+e[t.M10]*e[t.M01]*e[t.M32]*e[t.M23]-e[t.M00]*e[t.M11]*e[t.M32]*e[t.M23]-e[t.M20]*e[t.M11]*e[t.M02]*e[t.M33]+e[t.M10]*e[t.M21]*e[t.M02]*e[t.M33]+e[t.M20]*e[t.M01]*e[t.M12]*e[t.M33]-e[t.M00]*e[t.M21]*e[t.M12]*e[t.M33]-e[t.M10]*e[t.M01]*e[t.M22]*e[t.M33]+e[t.M00]*e[t.M11]*e[t.M22]*e[t.M33];if(0==r)throw new Error("non-invertible matrix");var i=1/r;return n[t.M00]=e[t.M12]*e[t.M23]*e[t.M31]-e[t.M13]*e[t.M22]*e[t.M31]+e[t.M13]*e[t.M21]*e[t.M32]-e[t.M11]*e[t.M23]*e[t.M32]-e[t.M12]*e[t.M21]*e[t.M33]+e[t.M11]*e[t.M22]*e[t.M33],n[t.M01]=e[t.M03]*e[t.M22]*e[t.M31]-e[t.M02]*e[t.M23]*e[t.M31]-e[t.M03]*e[t.M21]*e[t.M32]+e[t.M01]*e[t.M23]*e[t.M32]+e[t.M02]*e[t.M21]*e[t.M33]-e[t.M01]*e[t.M22]*e[t.M33],n[t.M02]=e[t.M02]*e[t.M13]*e[t.M31]-e[t.M03]*e[t.M12]*e[t.M31]+e[t.M03]*e[t.M11]*e[t.M32]-e[t.M01]*e[t.M13]*e[t.M32]-e[t.M02]*e[t.M11]*e[t.M33]+e[t.M01]*e[t.M12]*e[t.M33],n[t.M03]=e[t.M03]*e[t.M12]*e[t.M21]-e[t.M02]*e[t.M13]*e[t.M21]-e[t.M03]*e[t.M11]*e[t.M22]+e[t.M01]*e[t.M13]*e[t.M22]+e[t.M02]*e[t.M11]*e[t.M23]-e[t.M01]*e[t.M12]*e[t.M23],n[t.M10]=e[t.M13]*e[t.M22]*e[t.M30]-e[t.M12]*e[t.M23]*e[t.M30]-e[t.M13]*e[t.M20]*e[t.M32]+e[t.M10]*e[t.M23]*e[t.M32]+e[t.M12]*e[t.M20]*e[t.M33]-e[t.M10]*e[t.M22]*e[t.M33],n[t.M11]=e[t.M02]*e[t.M23]*e[t.M30]-e[t.M03]*e[t.M22]*e[t.M30]+e[t.M03]*e[t.M20]*e[t.M32]-e[t.M00]*e[t.M23]*e[t.M32]-e[t.M02]*e[t.M20]*e[t.M33]+e[t.M00]*e[t.M22]*e[t.M33],n[t.M12]=e[t.M03]*e[t.M12]*e[t.M30]-e[t.M02]*e[t.M13]*e[t.M30]-e[t.M03]*e[t.M10]*e[t.M32]+e[t.M00]*e[t.M13]*e[t.M32]+e[t.M02]*e[t.M10]*e[t.M33]-e[t.M00]*e[t.M12]*e[t.M33],n[t.M13]=e[t.M02]*e[t.M13]*e[t.M20]-e[t.M03]*e[t.M12]*e[t.M20]+e[t.M03]*e[t.M10]*e[t.M22]-e[t.M00]*e[t.M13]*e[t.M22]-e[t.M02]*e[t.M10]*e[t.M23]+e[t.M00]*e[t.M12]*e[t.M23],n[t.M20]=e[t.M11]*e[t.M23]*e[t.M30]-e[t.M13]*e[t.M21]*e[t.M30]+e[t.M13]*e[t.M20]*e[t.M31]-e[t.M10]*e[t.M23]*e[t.M31]-e[t.M11]*e[t.M20]*e[t.M33]+e[t.M10]*e[t.M21]*e[t.M33],n[t.M21]=e[t.M03]*e[t.M21]*e[t.M30]-e[t.M01]*e[t.M23]*e[t.M30]-e[t.M03]*e[t.M20]*e[t.M31]+e[t.M00]*e[t.M23]*e[t.M31]+e[t.M01]*e[t.M20]*e[t.M33]-e[t.M00]*e[t.M21]*e[t.M33],n[t.M22]=e[t.M01]*e[t.M13]*e[t.M30]-e[t.M03]*e[t.M11]*e[t.M30]+e[t.M03]*e[t.M10]*e[t.M31]-e[t.M00]*e[t.M13]*e[t.M31]-e[t.M01]*e[t.M10]*e[t.M33]+e[t.M00]*e[t.M11]*e[t.M33],n[t.M23]=e[t.M03]*e[t.M11]*e[t.M20]-e[t.M01]*e[t.M13]*e[t.M20]-e[t.M03]*e[t.M10]*e[t.M21]+e[t.M00]*e[t.M13]*e[t.M21]+e[t.M01]*e[t.M10]*e[t.M23]-e[t.M00]*e[t.M11]*e[t.M23],n[t.M30]=e[t.M12]*e[t.M21]*e[t.M30]-e[t.M11]*e[t.M22]*e[t.M30]-e[t.M12]*e[t.M20]*e[t.M31]+e[t.M10]*e[t.M22]*e[t.M31]+e[t.M11]*e[t.M20]*e[t.M32]-e[t.M10]*e[t.M21]*e[t.M32],n[t.M31]=e[t.M01]*e[t.M22]*e[t.M30]-e[t.M02]*e[t.M21]*e[t.M30]+e[t.M02]*e[t.M20]*e[t.M31]-e[t.M00]*e[t.M22]*e[t.M31]-e[t.M01]*e[t.M20]*e[t.M32]+e[t.M00]*e[t.M21]*e[t.M32],n[t.M32]=e[t.M02]*e[t.M11]*e[t.M30]-e[t.M01]*e[t.M12]*e[t.M30]-e[t.M02]*e[t.M10]*e[t.M31]+e[t.M00]*e[t.M12]*e[t.M31]+e[t.M01]*e[t.M10]*e[t.M32]-e[t.M00]*e[t.M11]*e[t.M32],n[t.M33]=e[t.M01]*e[t.M12]*e[t.M20]-e[t.M02]*e[t.M11]*e[t.M20]+e[t.M02]*e[t.M10]*e[t.M21]-e[t.M00]*e[t.M12]*e[t.M21]-e[t.M01]*e[t.M10]*e[t.M22]+e[t.M00]*e[t.M11]*e[t.M22],e[t.M00]=n[t.M00]*i,e[t.M01]=n[t.M01]*i,e[t.M02]=n[t.M02]*i,e[t.M03]=n[t.M03]*i,e[t.M10]=n[t.M10]*i,e[t.M11]=n[t.M11]*i,e[t.M12]=n[t.M12]*i,e[t.M13]=n[t.M13]*i,e[t.M20]=n[t.M20]*i,e[t.M21]=n[t.M21]*i,e[t.M22]=n[t.M22]*i,e[t.M23]=n[t.M23]*i,e[t.M30]=n[t.M30]*i,e[t.M31]=n[t.M31]*i,e[t.M32]=n[t.M32]*i,e[t.M33]=n[t.M33]*i,this},e.prototype.determinant=function(){var e=this.values;return e[t.M30]*e[t.M21]*e[t.M12]*e[t.M03]-e[t.M20]*e[t.M31]*e[t.M12]*e[t.M03]-e[t.M30]*e[t.M11]*e[t.M22]*e[t.M03]+e[t.M10]*e[t.M31]*e[t.M22]*e[t.M03]+e[t.M20]*e[t.M11]*e[t.M32]*e[t.M03]-e[t.M10]*e[t.M21]*e[t.M32]*e[t.M03]-e[t.M30]*e[t.M21]*e[t.M02]*e[t.M13]+e[t.M20]*e[t.M31]*e[t.M02]*e[t.M13]+e[t.M30]*e[t.M01]*e[t.M22]*e[t.M13]-e[t.M00]*e[t.M31]*e[t.M22]*e[t.M13]-e[t.M20]*e[t.M01]*e[t.M32]*e[t.M13]+e[t.M00]*e[t.M21]*e[t.M32]*e[t.M13]+e[t.M30]*e[t.M11]*e[t.M02]*e[t.M23]-e[t.M10]*e[t.M31]*e[t.M02]*e[t.M23]-e[t.M30]*e[t.M01]*e[t.M12]*e[t.M23]+e[t.M00]*e[t.M31]*e[t.M12]*e[t.M23]+e[t.M10]*e[t.M01]*e[t.M32]*e[t.M23]-e[t.M00]*e[t.M11]*e[t.M32]*e[t.M23]-e[t.M20]*e[t.M11]*e[t.M02]*e[t.M33]+e[t.M10]*e[t.M21]*e[t.M02]*e[t.M33]+e[t.M20]*e[t.M01]*e[t.M12]*e[t.M33]-e[t.M00]*e[t.M21]*e[t.M12]*e[t.M33]-e[t.M10]*e[t.M01]*e[t.M22]*e[t.M33]+e[t.M00]*e[t.M11]*e[t.M22]*e[t.M33]},e.prototype.translate=function(e,n,r){var i=this.values;return i[t.M03]+=e,i[t.M13]+=n,i[t.M23]+=r,this},e.prototype.copy=function(){return(new e).set(this.values)},e.prototype.projection=function(e,n,r,i){this.identity();var a=1/Math.tan(r*(Math.PI/180)/2),s=(n+e)/(e-n),o=2*n*e/(e-n),h=this.values;return h[t.M00]=a/i,h[t.M10]=0,h[t.M20]=0,h[t.M30]=0,h[t.M01]=0,h[t.M11]=a,h[t.M21]=0,h[t.M31]=0,h[t.M02]=0,h[t.M12]=0,h[t.M22]=s,h[t.M32]=-1,h[t.M03]=0,h[t.M13]=0,h[t.M23]=o,h[t.M33]=0,this},e.prototype.ortho2d=function(t,e,n,r){return this.ortho(t,t+n,e,e+r,0,1)},e.prototype.ortho=function(e,n,r,i,a,s){this.identity();var o=2/(n-e),h=2/(i-r),l=-2/(s-a),u=-(n+e)/(n-e),f=-(i+r)/(i-r),c=-(s+a)/(s-a),M=this.values;return M[t.M00]=o,M[t.M10]=0,M[t.M20]=0,M[t.M30]=0,M[t.M01]=0,M[t.M11]=h,M[t.M21]=0,M[t.M31]=0,M[t.M02]=0,M[t.M12]=0,M[t.M22]=l,M[t.M32]=0,M[t.M03]=u,M[t.M13]=f,M[t.M23]=c,M[t.M33]=1,this},e.prototype.multiply=function(e){var n=this.temp,r=this.values,i=e.values;return n[t.M00]=r[t.M00]*i[t.M00]+r[t.M01]*i[t.M10]+r[t.M02]*i[t.M20]+r[t.M03]*i[t.M30],n[t.M01]=r[t.M00]*i[t.M01]+r[t.M01]*i[t.M11]+r[t.M02]*i[t.M21]+r[t.M03]*i[t.M31],n[t.M02]=r[t.M00]*i[t.M02]+r[t.M01]*i[t.M12]+r[t.M02]*i[t.M22]+r[t.M03]*i[t.M32],n[t.M03]=r[t.M00]*i[t.M03]+r[t.M01]*i[t.M13]+r[t.M02]*i[t.M23]+r[t.M03]*i[t.M33],n[t.M10]=r[t.M10]*i[t.M00]+r[t.M11]*i[t.M10]+r[t.M12]*i[t.M20]+r[t.M13]*i[t.M30],n[t.M11]=r[t.M10]*i[t.M01]+r[t.M11]*i[t.M11]+r[t.M12]*i[t.M21]+r[t.M13]*i[t.M31],n[t.M12]=r[t.M10]*i[t.M02]+r[t.M11]*i[t.M12]+r[t.M12]*i[t.M22]+r[t.M13]*i[t.M32],n[t.M13]=r[t.M10]*i[t.M03]+r[t.M11]*i[t.M13]+r[t.M12]*i[t.M23]+r[t.M13]*i[t.M33],n[t.M20]=r[t.M20]*i[t.M00]+r[t.M21]*i[t.M10]+r[t.M22]*i[t.M20]+r[t.M23]*i[t.M30],n[t.M21]=r[t.M20]*i[t.M01]+r[t.M21]*i[t.M11]+r[t.M22]*i[t.M21]+r[t.M23]*i[t.M31],n[t.M22]=r[t.M20]*i[t.M02]+r[t.M21]*i[t.M12]+r[t.M22]*i[t.M22]+r[t.M23]*i[t.M32],n[t.M23]=r[t.M20]*i[t.M03]+r[t.M21]*i[t.M13]+r[t.M22]*i[t.M23]+r[t.M23]*i[t.M33],n[t.M30]=r[t.M30]*i[t.M00]+r[t.M31]*i[t.M10]+r[t.M32]*i[t.M20]+r[t.M33]*i[t.M30],n[t.M31]=r[t.M30]*i[t.M01]+r[t.M31]*i[t.M11]+r[t.M32]*i[t.M21]+r[t.M33]*i[t.M31],n[t.M32]=r[t.M30]*i[t.M02]+r[t.M31]*i[t.M12]+r[t.M32]*i[t.M22]+r[t.M33]*i[t.M32],n[t.M33]=r[t.M30]*i[t.M03]+r[t.M31]*i[t.M13]+r[t.M32]*i[t.M23]+r[t.M33]*i[t.M33],this.set(this.temp)},e.prototype.multiplyLeft=function(e){var n=this.temp,r=this.values,i=e.values;return n[t.M00]=i[t.M00]*r[t.M00]+i[t.M01]*r[t.M10]+i[t.M02]*r[t.M20]+i[t.M03]*r[t.M30],n[t.M01]=i[t.M00]*r[t.M01]+i[t.M01]*r[t.M11]+i[t.M02]*r[t.M21]+i[t.M03]*r[t.M31],n[t.M02]=i[t.M00]*r[t.M02]+i[t.M01]*r[t.M12]+i[t.M02]*r[t.M22]+i[t.M03]*r[t.M32],n[t.M03]=i[t.M00]*r[t.M03]+i[t.M01]*r[t.M13]+i[t.M02]*r[t.M23]+i[t.M03]*r[t.M33],n[t.M10]=i[t.M10]*r[t.M00]+i[t.M11]*r[t.M10]+i[t.M12]*r[t.M20]+i[t.M13]*r[t.M30],n[t.M11]=i[t.M10]*r[t.M01]+i[t.M11]*r[t.M11]+i[t.M12]*r[t.M21]+i[t.M13]*r[t.M31],n[t.M12]=i[t.M10]*r[t.M02]+i[t.M11]*r[t.M12]+i[t.M12]*r[t.M22]+i[t.M13]*r[t.M32],n[t.M13]=i[t.M10]*r[t.M03]+i[t.M11]*r[t.M13]+i[t.M12]*r[t.M23]+i[t.M13]*r[t.M33],n[t.M20]=i[t.M20]*r[t.M00]+i[t.M21]*r[t.M10]+i[t.M22]*r[t.M20]+i[t.M23]*r[t.M30],n[t.M21]=i[t.M20]*r[t.M01]+i[t.M21]*r[t.M11]+i[t.M22]*r[t.M21]+i[t.M23]*r[t.M31],n[t.M22]=i[t.M20]*r[t.M02]+i[t.M21]*r[t.M12]+i[t.M22]*r[t.M22]+i[t.M23]*r[t.M32],n[t.M23]=i[t.M20]*r[t.M03]+i[t.M21]*r[t.M13]+i[t.M22]*r[t.M23]+i[t.M23]*r[t.M33],n[t.M30]=i[t.M30]*r[t.M00]+i[t.M31]*r[t.M10]+i[t.M32]*r[t.M20]+i[t.M33]*r[t.M30],n[t.M31]=i[t.M30]*r[t.M01]+i[t.M31]*r[t.M11]+i[t.M32]*r[t.M21]+i[t.M33]*r[t.M31],n[t.M32]=i[t.M30]*r[t.M02]+i[t.M31]*r[t.M12]+i[t.M32]*r[t.M22]+i[t.M33]*r[t.M32],n[t.M33]=i[t.M30]*r[t.M03]+i[t.M31]*r[t.M13]+i[t.M32]*r[t.M23]+i[t.M33]*r[t.M33],this.set(this.temp)},e}();t.Matrix4=e}(e=t.webgl||(t.webgl={}))}(spine||(spine={}));var spine;!function(t){var e;!function(t){var e=function(){function t(t,e,n,r){this._attributes=e,this._verticesLength=0,this._dirtyVertices=!1,this._indicesLength=0,this._dirtyIndices=!1,this._elementsPerVertex=0,this._gl=t,this._elementsPerVertex=0;for(var i=0;i<e.length;i++)this._elementsPerVertex+=e[i].numElements;this._vertices=new Float32Array(n*this._elementsPerVertex),this._indices=new Uint16Array(r)}return t.prototype.attributes=function(){return this._attributes},t.prototype.maxVertices=function(){return this._vertices.length/this._elementsPerVertex},t.prototype.numVertices=function(){return this._verticesLength/this._elementsPerVertex},t.prototype.setVerticesLength=function(t){this._dirtyVertices=!0,this._verticesLength=t},t.prototype.vertices=function(){return this._vertices},t.prototype.maxIndices=function(){return this._indices.length},t.prototype.numIndices=function(){return this._indicesLength},t.prototype.setIndicesLength=function(t){this._dirtyIndices=!0,this._indicesLength=t},t.prototype.indices=function(){return this._indices},t.prototype.setVertices=function(t){if(this._dirtyVertices=!0,t.length>this._vertices.length)throw Error("Mesh can't store more than "+this.maxVertices()+" vertices");this._vertices.set(t,0),this._verticesLength=t.length},t.prototype.setIndices=function(t){if(this._dirtyIndices=!0,t.length>this._indices.length)throw Error("Mesh can't store more than "+this.maxIndices()+" indices");this._indices.set(t,0),this._indicesLength=t.length},t.prototype.draw=function(t,e){this.drawWithOffset(t,e,0,this._indicesLength>0?this._indicesLength:this._verticesLength)},t.prototype.drawWithOffset=function(t,e,n,r){var i=this._gl;(this._dirtyVertices||this._dirtyIndices)&&this.update(),this.bind(t),this._indicesLength>0?i.drawElements(e,r,i.UNSIGNED_SHORT,2*n):i.drawArrays(e,n,r),this.unbind(t)},t.prototype.bind=function(t){var e=this._gl;e.bindBuffer(e.ARRAY_BUFFER,this._verticesBuffer);for(var n=0,r=0;r<this._attributes.length;r++){var i=this._attributes[r],a=t.getAttributeLocation(i.name);e.enableVertexAttribArray(a),e.vertexAttribPointer(a,i.numElements,e.FLOAT,!1,4*this._elementsPerVertex,4*n),n+=i.numElements}this._indicesLength>0&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indicesBuffer)},t.prototype.unbind=function(t){for(var e=this._gl,n=0;n<this._attributes.length;n++){var r=this._attributes[n],i=t.getAttributeLocation(r.name);e.disableVertexAttribArray(i)}e.bindBuffer(e.ARRAY_BUFFER,null),this._indicesLength>0&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t.prototype.update=function(){var t=this._gl;this._dirtyVertices&&(this._verticesBuffer||(this._verticesBuffer=t.createBuffer()),t.bindBuffer(t.ARRAY_BUFFER,this._verticesBuffer),t.bufferData(t.ARRAY_BUFFER,this._vertices.subarray(0,this._verticesLength),t.STATIC_DRAW),this._dirtyVertices=!1),this._dirtyIndices&&(this._indicesBuffer||(this._indicesBuffer=t.createBuffer()),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indicesBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this._indices.subarray(0,this._indicesLength),t.STATIC_DRAW),this._dirtyIndices=!1)},t.prototype.dispose=function(){var t=this._gl;t.deleteBuffer(this._verticesBuffer),t.deleteBuffer(this._indicesBuffer)},t}();t.Mesh=e;var n=function(){function t(t,e,n){this.name=t,this.type=e,this.numElements=n}return t
}();t.VertexAttribute=n;var r=function(e){function n(){e.call(this,t.Shader.POSITION,o.Float,2)}return __extends(n,e),n}(n);t.Position2Attribute=r;var i=function(e){function n(){e.call(this,t.Shader.POSITION,o.Float,3)}return __extends(n,e),n}(n);t.Position3Attribute=i;var a=function(e){function n(n){void 0===n&&(n=0),e.call(this,t.Shader.TEXCOORDS+(0==n?"":n),o.Float,2)}return __extends(n,e),n}(n);t.TexCoordAttribute=a;var s=function(e){function n(){e.call(this,t.Shader.COLOR,o.Float,4)}return __extends(n,e),n}(n);t.ColorAttribute=s,function(t){t[t.Float=0]="Float"}(t.VertexAttributeType||(t.VertexAttributeType={}));var o=t.VertexAttributeType}(e=t.webgl||(t.webgl={}))}(spine||(spine={}));var spine;!function(t){var e;!function(t){var e=function(){function e(e,n){if(void 0===n&&(n=10920),this._drawing=!1,this._shader=null,this._lastTexture=null,this._verticesLength=0,this._indicesLength=0,this._srcBlend=WebGLRenderingContext.SRC_ALPHA,this._dstBlend=WebGLRenderingContext.ONE_MINUS_SRC_ALPHA,n>10920)throw new Error("Can't have more than 10920 triangles per batch: "+n);this._gl=e,this._mesh=new t.Mesh(e,[new t.Position2Attribute,new t.ColorAttribute,new t.TexCoordAttribute],n,3*n)}return e.prototype.begin=function(t){var e=this._gl;if(this._drawing)throw new Error("PolygonBatch is already drawing. Call PolygonBatch.end() before calling PolygonBatch.begin()");this._drawCalls=0,this._shader=t,this._lastTexture=null,this._drawing=!0,e.enable(e.BLEND),e.blendFunc(this._srcBlend,this._dstBlend)},e.prototype.setBlendMode=function(t,e){var n=this._gl;this._srcBlend=t,this._dstBlend=e,this._drawing&&(this.flush(),n.blendFunc(this._srcBlend,this._dstBlend))},e.prototype.draw=function(t,e,n){t!=this._lastTexture?(this.flush(),this._lastTexture=t,t.bind()):(this._verticesLength+e.length>this._mesh.vertices().length||this._indicesLength+n.length>this._mesh.indices().length)&&this.flush();var r=this._mesh.numVertices();this._mesh.vertices().set(e,this._verticesLength),this._verticesLength+=e.length,this._mesh.setVerticesLength(this._verticesLength);for(var i=this._mesh.indices(),a=this._indicesLength,s=0;s<n.length;a++,s++)i[a]=n[s]+r;this._indicesLength+=n.length,this._mesh.setIndicesLength(this._indicesLength)},e.prototype.flush=function(){var t=this._gl;0!=this._verticesLength&&(this._mesh.draw(this._shader,t.TRIANGLES),this._verticesLength=0,this._indicesLength=0,this._mesh.setVerticesLength(0),this._mesh.setIndicesLength(0),this._drawCalls++)},e.prototype.end=function(){var t=this._gl;if(!this._drawing)throw new Error("PolygonBatch is not drawing. Call PolygonBatch.begin() before calling PolygonBatch.end()");(this._verticesLength>0||this._indicesLength>0)&&this.flush(),this._shader=null,this._lastTexture=null,this._drawing=!1,t.disable(t.BLEND)},e.prototype.drawCalls=function(){return this._drawCalls},e}();t.PolygonBatcher=e}(e=t.webgl||(t.webgl={}))}(spine||(spine={}));var spine;!function(t){var e;!function(t){var e=function(){function t(t,e,n){this._vertexShader=e,this._fragmentShader=n,this._vs=null,this._fs=null,this._program=null,this._tmp2x2=new Float32Array(4),this._tmp3x3=new Float32Array(9),this._tmp4x4=new Float32Array(16),this._gl=t,this.compile()}return t.prototype.program=function(){return this._program},t.prototype.vertexShader=function(){return this._vertexShader},t.prototype.fragmentShader=function(){return this._fragmentShader},t.prototype.compile=function(){var t=this._gl;try{this._vs=this.compileShader(t.VERTEX_SHADER,this._vertexShader),this._fs=this.compileShader(t.FRAGMENT_SHADER,this._fragmentShader),this._program=this.compileProgram(this._vs,this._fs)}catch(e){throw this.dispose(),e}},t.prototype.compileShader=function(t,e){var n=this._gl,r=n.createShader(t);if(n.shaderSource(r,e),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS)){var i="Couldn't compile shader: "+n.getShaderInfoLog(r);throw n.deleteShader(r),new Error(i)}return r},t.prototype.compileProgram=function(t,e){var n=this._gl,r=n.createProgram();if(n.attachShader(r,t),n.attachShader(r,e),n.linkProgram(r),!n.getProgramParameter(r,n.LINK_STATUS)){var i="Couldn't compile shader program: "+n.getProgramInfoLog(r);throw n.deleteProgram(r),new Error(i)}return r},t.prototype.bind=function(){this._gl.useProgram(this._program)},t.prototype.unbind=function(){this._gl.useProgram(null)},t.prototype.setUniformi=function(t,e){this._gl.uniform1i(this.getUniformLocation(t),e)},t.prototype.setUniformf=function(t,e){this._gl.uniform1f(this.getUniformLocation(t),e)},t.prototype.setUniform2f=function(t,e,n){this._gl.uniform2f(this.getUniformLocation(t),e,n)},t.prototype.setUniform3f=function(t,e,n,r){this._gl.uniform3f(this.getUniformLocation(t),e,n,r)},t.prototype.setUniform4f=function(t,e,n,r,i){this._gl.uniform4f(this.getUniformLocation(t),e,n,r,i)},t.prototype.setUniform2x2f=function(t,e){var n=this._gl;this._tmp2x2.set(e),n.uniformMatrix2fv(this.getUniformLocation(t),!1,this._tmp2x2)},t.prototype.setUniform3x3f=function(t,e){var n=this._gl;this._tmp3x3.set(e),n.uniformMatrix3fv(this.getUniformLocation(t),!1,this._tmp3x3)},t.prototype.setUniform4x4f=function(t,e){var n=this._gl;this._tmp4x4.set(e),n.uniformMatrix4fv(this.getUniformLocation(t),!1,this._tmp4x4)},t.prototype.getUniformLocation=function(t){var e=this._gl,n=e.getUniformLocation(this._program,t);if(!n)throw new Error("Couldn't find location for uniform "+t);return n},t.prototype.getAttributeLocation=function(t){var e=this._gl,n=e.getAttribLocation(this._program,t);if(-1==n)throw new Error("Couldn't find location for attribute "+t);return n},t.prototype.dispose=function(){var t=this._gl;this._vs&&(t.deleteShader(this._vs),this._vs=null),this._fs&&(t.deleteShader(this._fs),this._fs=null),this._program&&(t.deleteProgram(this._program),this._program=null)},t.newColoredTextured=function(e){var n="\n				attribute vec4 "+t.POSITION+";\n				attribute vec4 "+t.COLOR+";\n				attribute vec2 "+t.TEXCOORDS+";\n				uniform mat4 "+t.MVP_MATRIX+";\n				varying vec4 v_color;\n				varying vec2 v_texCoords;\n\n				void main () {\n					v_color = "+t.COLOR+";\n					v_texCoords = "+t.TEXCOORDS+";\n					gl_Position =  "+t.MVP_MATRIX+" * "+t.POSITION+";\n				}\n			",r="\n				#ifdef GL_ES\n					#define LOWP lowp\n					precision mediump float;\n				#else\n					#define LOWP\n				#endif\n				varying LOWP vec4 v_color;\n				varying vec2 v_texCoords;\n				uniform sampler2D u_texture;\n\n				void main () {\n					gl_FragColor = v_color * texture2D(u_texture, v_texCoords);\n				}\n			";return new t(e,n,r)},t.newColored=function(e){var n="\n				attribute vec4 "+t.POSITION+";\n				attribute vec4 "+t.COLOR+";\n				uniform mat4 "+t.MVP_MATRIX+";\n				varying vec4 v_color;\n\n				void main () {\n					v_color = "+t.COLOR+";\n					gl_Position =  "+t.MVP_MATRIX+" * "+t.POSITION+";\n				}\n			",r="\n				#ifdef GL_ES\n					#define LOWP lowp\n					precision mediump float;\n				#else\n					#define LOWP\n				#endif\n				varying LOWP vec4 v_color;\n\n				void main () {\n					gl_FragColor = v_color;\n				}\n			";return new t(e,n,r)},t.MVP_MATRIX="u_projTrans",t.POSITION="a_position",t.COLOR="a_color",t.TEXCOORDS="a_texCoords",t.SAMPLER="u_texture",t}();t.Shader=e}(e=t.webgl||(t.webgl={}))}(spine||(spine={}));var spine;!function(t){var e;!function(e){var n=function(){function n(t){this.premultipliedAlpha=!1,this._gl=t}return n.prototype.draw=function(r,i){for(var a=this.premultipliedAlpha,s=null,o=null,h=null,l=i.drawOrder,u=0,f=l.length;f>u;u++){var c=l[u],M=c.getAttachment(),p=null;if(M instanceof t.RegionAttachment){var d=M;o=d.updateWorldVertices(c,a),h=n.QUAD_TRIANGLES,p=d.region.renderObject.texture}else{if(!(M instanceof t.MeshAttachment))continue;var v=M;o=v.updateWorldVertices(c,a),h=v.triangles,p=v.region.renderObject.texture}if(null!=p){var g=c.data.blendMode;g!=s&&(s=g,r.setBlendMode(e.getSourceGLBlendMode(this._gl,s,a),e.getDestGLBlendMode(this._gl,s))),r.draw(p,o,h)}}},n.QUAD_TRIANGLES=[0,1,2,2,3,0],n}();e.SkeletonRenderer=n}(e=t.webgl||(t.webgl={}))}(spine||(spine={}));var spine;!function(t){var e;!function(t){var e=function(){function e(){this.x=0,this.y=0,this.z=0}return e.prototype.set=function(t,e,n){return this.x=t,this.y=e,this.z=n,this},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},e.prototype.scale=function(t){return this.x*=t,this.y*=t,this.z*=t,this},e.prototype.normalize=function(){var t=this.length();return 0==t?this:(t=1/t,this.x*=t,this.y*=t,this.z*=t,this)},e.prototype.cross=function(t){return this.set(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},e.prototype.multiply=function(e){var n=e.values;return this.set(this.x*n[t.M00]+this.y*n[t.M01]+this.z*n[t.M02]+n[t.M03],this.x*n[t.M10]+this.y*n[t.M11]+this.z*n[t.M12]+n[t.M13],this.x*n[t.M20]+this.y*n[t.M21]+this.z*n[t.M22]+n[t.M23])},e.prototype.project=function(e){var n=e.values,r=1/(this.x*n[t.M30]+this.y*n[t.M31]+this.z*n[t.M32]+n[t.M33]);return this.set((this.x*n[t.M00]+this.y*n[t.M01]+this.z*n[t.M02]+n[t.M03])*r,(this.x*n[t.M10]+this.y*n[t.M11]+this.z*n[t.M12]+n[t.M13])*r,(this.x*n[t.M20]+this.y*n[t.M21]+this.z*n[t.M22]+n[t.M23])*r)},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},e.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},e.prototype.distance=function(t){var e=t.x-this.x,n=t.y-this.y,r=t.z-this.z;return Math.sqrt(e*e+n*n+r*r)},e}();t.Vector3=e}(e=t.webgl||(t.webgl={}))}(spine||(spine={}));var spine;!function(t){var e;!function(e){function n(e,n,r){switch(void 0===r&&(r=!1),n){case t.BlendMode.Normal:return r?e.ONE:e.SRC_ALPHA;case t.BlendMode.Additive:return r?e.ONE:e.SRC_ALPHA;case t.BlendMode.Multiply:return e.DST_COLOR;case t.BlendMode.Screen:return e.ONE;default:throw new Error("Unknown blend mode: "+n)}}function r(e,n){switch(n){case t.BlendMode.Normal:return e.ONE_MINUS_SRC_ALPHA;case t.BlendMode.Additive:return e.ONE;case t.BlendMode.Multiply:return e.ONE_MINUS_SRC_ALPHA;case t.BlendMode.Screen:return e.ONE_MINUS_SRC_ALPHA;default:throw new Error("Unknown blend mode: "+n)}}e.getSourceGLBlendMode=n,e.getDestGLBlendMode=r}(e=t.webgl||(t.webgl={}))}(spine||(spine={}));